---
title: Matchers comunes
---
import ReadingTime from '@site/src/components/ReadingTime'
import { ProCons, Pros, Cons } from '@site/src/components/cajitas/ProCons'
import References from '@site/src/components/ReferencesComponent'
import Tabs from '@theme/Tabs'
import TabItem from '@theme/TabItem'
import Exercise from '@site/src/components/exercise/Exercise'
import Solution from '@site/src/components/exercise/Solution'
import Hint from '@site/src/components/exercise/Hint'
import Definition from '@site/src/components/Definition'
import Corollary from '@site/src/components/Corollary'
import GithubRepoLink from '@site/src/components/GithubRepoLink'
import Explanation from '@site/src/components/admonitions/Explanation'
import RepoClone from '@site/src/components/admonitions/RepoClone'
import { 
    LanguageCard,
    RSpecCard
} from "/src/components/cards/LanguageCard";
import Tooltip from '@site/src/components/Tooltip';

<ReadingTime/>
<GithubRepoLink user={"r8vnhill"} repo={"assertions-kt"}/>

Los **Matchers** en Kotest te permiten verificar condiciones de manera expresiva y legible, como si un valor es igual, no nulo, o si una cadena contiene un texto. Kotest ofrece más de
<Tooltip text={<>Mediante la bibliotecas como <code>kotest-assertions-core</code> o <code>kotest-assertions-json</code></>} highlight={true}><span>**350 matchers**</span></Tooltip>
que cubren una amplia variedad de validaciones y te permite encadenar varios matchers para mejorar la legibilidad.

### Ejemplos Comunes de Matchers en Kotest:

- **Igualdad**: Verifica si un valor es igual a otro.
    ```kotlin
    result shouldBe 42
    ```
- **Desigualdad**: Verifica que dos valores no sean iguales.
    ```kotlin
    result shouldNotBe 0
    ```
- **No Nulo**: Asegura que un valor no es nulo.
    ```kotlin
    result.shouldNotBeNull()
    ```
- **Contenido en Cadenas**: Verifica que una cadena contiene otra.
    ```kotlin
    string.shouldContain("world")
    ```
- **Empieza con**: Verifica que una cadena comienza con un prefijo específico.
    ```kotlin
    string.shouldStartWith("Hello")
    ```

### Encadenar Matchers

Una de las ventajas de Kotest es que puedes **encadenar matchers** para hacer varias verificaciones en una sola expresión, mejorando la legibilidad del código.

Por ejemplo:

```kotlin
result.shouldNotBeNull()
    .shouldBeGreaterThan(10)
    .shouldBeLessThan(50)
```


En este ejemplo, se verifica que `result`:
1. **No es nulo**.
2. **Es mayor que 10**.
3. **Es menor que 50**.

Otro ejemplo con cadenas:

```kotlin
string.shouldStartWith("Hello")
    .shouldContain("world")
    .shouldEndWith("!")
```

Aquí, se verifica que `string`:

1. **Comienza con "Hello"**.
2. **Contiene "world"**.
3. **Termina con "!"**.

El encadenamiento de matchers permite que las pruebas sean más expresivas y fáciles de seguir, eliminando la necesidad de múltiples sentencias `assert` y mejorando la fluidez de la validación.

## Beneficios y limitaciones

<ProCons>
    <Pros>
        - **Legibilidad mejorada**: Los matchers en Kotest ofrecen una sintaxis más expresiva y natural que las aserciones tradicionales (`assert`). Esto facilita que las pruebas sean más claras y fáciles de entender.
        - **Encadenamiento**: Los matchers permiten encadenar múltiples validaciones en una sola línea, lo que reduce la cantidad de código repetitivo y hace que las pruebas sean más fluidas.
        - **Errores más detallados**: Cuando una prueba falla, los matchers suelen generar mensajes de error más específicos y detallados que las aserciones comunes, lo que facilita la depuración.
        - **Gran variedad de validaciones**: Kotest proporciona una amplia gama de matchers (más de 350) que cubren validaciones específicas, lo que permite que las pruebas se adapten mejor a diferentes tipos de datos y contextos.
        - **Consistencia**: El uso de matchers permite un enfoque más consistente y estandarizado en las pruebas, especialmente cuando se utilizan en proyectos grandes o con varios colaboradores.
    </Pros>
    <Cons>
        - **Sobrecarga de dependencias**: Utilizar matchers avanzados puede requerir la inclusión de dependencias adicionales (como `kotest-assertions-json` o `kotest-assertions-core`), lo que puede aumentar el tamaño del proyecto innecesariamente en casos simples.
        - **Curva de aprendizaje**: Aunque son más expresivos, los matchers requieren que lxs desarrolladorxs aprendan una nueva API en lugar de utilizar aserciones tradicionales que pueden ser más familiares.
    </Cons>
</ProCons>

## ¿Qué hemos visto?

En esta sección hemos explorado los **matchers** en Kotest, aprendiendo a verificar condiciones como igualdad, no nulidad, y contenido de cadenas de manera expresiva. Vimos ejemplos comunes de matchers como `shouldBe`, `shouldNotBe`, y cómo encadenarlos para hacer las pruebas más legibles y eficientes.

Esta forma de definir expectativas mejora la claridad, consistencia y fluidez de las pruebas.

<div className="language-card-container">
    <LanguageCard
        logoSrc="https://chaijs.com/img/chai-logo.png"
        language="JavaScript: Mocha + Chai"
        link="/docs/testing/matchers/common/chai"
    />
    <LanguageCard
        logoSrc="https://www.svgrepo.com/show/184143/java.svg"
        language="JVM: AssertJ"
        link="/docs/testing/matchers/common/assertj"
    />
    <LanguageCard
        logoSrc="https://hamcrest.org/images/logo.jpg"
        language="JVM: Hamcrest"
        link="/docs/testing/matchers/common/hamcrest"
    />
    <LanguageCard
        logoSrc="https://avatars.githubusercontent.com/u/297723?s=280&v=4"
        language="JVM: Spock"
        link="/docs/testing/matchers/common/spock"
    />
    <RSpecCard link="/docs/testing/matchers/common/rspec"/>
</div>

<References references={[
    {
        accessedDate: '26 de septiembre de 2024',
        siteOrAuthor: 'Kotest',
        title: 'Core Matchers | Kotest',
        type: 'web',
        url: 'https://kotest.io/docs/assertions/core-matchers.html',
    },
]}/>
