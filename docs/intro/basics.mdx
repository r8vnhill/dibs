---
title: Lo básico
---

import Definition from '../../src/components/Definition';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import ReadingTime from '../../src/components/ReadingTime';

<ReadingTime/>

## Expresiones vs. Declaraciones

Es importante distinguir entre **expresiones** y **declaraciones**, ya que desempeñan roles diferentes en la estructura de un programa. En Kotlin, estas diferencias son claras, aunque en otros lenguajes como Scala o Rust, las distinciones pueden ser más difusas.

<Definition title="Expresiones">
    Las **expresiones** son fragmentos de código que **producen un valor** y pueden combinarse con otras expresiones. En Kotlin, una expresión puede ser algo tan simple como una constante, o tan complejo como una función anónima. Ejemplos comunes son las operaciones aritméticas, los operadores lógicos y las llamadas a funciones.
</Definition>

<Definition title="Declaraciones">
    Las **declaraciones** ejecutan una acción pero **no retornan un valor**. A diferencia de las expresiones, no pueden combinarse con otras declaraciones. Ejemplos en Kotlin incluyen la asignación de variables, la ejecución de bucles y la definición de funciones.
</Definition>

En resumen, las expresiones siempre devuelven un valor que puede ser utilizado, mientras que las declaraciones simplemente realizan una acción.

## Declaración de funciones

Una **función** en Kotlin es un bloque de código que realiza una tarea específica. La sintaxis básica para declarar una función es:

```kotlin
fun functionName(parameter1: Type1, parameter2: Type2, ...): ReturnType {
    // Cuerpo de la función
    return result
}
```

- **`fun`**: Palabra clave que define la función.
- **`functionName`**: Nombre de la función.
- **`parameter1`, `parameter2`**: Parámetros junto con sus tipos.
- **`ReturnType`**: Tipo de dato que devuelve la función.

### Ejemplo: Sumar dos números

```kotlin
fun sum(a: Int, b: Int): Int = a + b
```

En funciones simples de una sola expresión, el tipo de retorno puede deducirse y omitirse:

```kotlin
fun sum(a: Int, b: Int) = a + b
```

Esto hace que el código sea más conciso y legible.

## Función `main`

La función `main` es el punto de entrada de un programa Kotlin. Aquí hay un ejemplo simple:

```kotlin
fun main(args: Array<String>) {
    println("Hello, ${args[0]}!")
}
```

### Interpolación de cadenas

La **interpolación de cadenas** en Kotlin te permite insertar valores de variables o expresiones directamente en una cadena, utilizando el símbolo `$`. Si el valor que deseas insertar es una simple variable, puedes usar `$variableName`. Si es una expresión más compleja, como en el ejemplo anterior, debes envolverla entre llaves `${}`.

#### Ejemplo:

```kotlin
val name = "Alice"
val age = 30

println("Hello, $name! You are $age years old.")
```

Esto imprimirá:

```plaintext
Hello, Alice! You are 30 years old.
```

La interpolación de cadenas es útil para construir mensajes dinámicos de manera concisa, sin tener que concatenar cadenas manualmente.

## Declaración de variables

Kotlin permite declarar variables usando `val` (inmutable) o `var` (mutable):

```kotlin
val/var variableName: Type = value
```

### Ejemplo

```kotlin
val a: Int = 1
var b = 2
b = 3 // Reasignación permitida para `var`
val c: Int
c = 3 // Asignación diferida
```

Aunque `val` denota inmutabilidad, el objeto referenciado puede ser mutable.

## Declaración de constantes

Las constantes se declaran con `const` y su valor se establece en tiempo de compilación:

```kotlin
const val PI = 3.14159
```

Las constantes solo pueden ser de tipos primitivos y no pueden calcularse en tiempo de ejecución.

:::tip Ejercicio: Cálculo del Área de un Círculo
<Tabs>
    <TabItem value="Enunciado" label="Enunciado">
        1. Declara la constante `PI` con el valor $3.14159$.

        2. Implementa una función `circleArea` que reciba el radio de un círculo y calcule su área utilizando la fórmula:

        $$
        A(r) = \pi r^2
        $$

        Donde:
        - $A(r)$ es el área del círculo.
        - $\pi$ es la constante PI.
        - $r$ es el radio del círculo.

        ```kotlin
        fun main() {
            println("El área de un círculo de radio 5.0 es ${circleArea(5.0)}")
        }
        ```
    </TabItem>

    <TabItem value="Solución" label="Solución">
        ```kotlin
        const val PI = 3.14159

        fun circleArea(radius: Double): Double = PI * radius * radius
        ```
    </TabItem>
</Tabs>
:::

## Expresión `if`

El `if` en Kotlin puede usarse como una declaración de control o una expresión que devuelve un valor:

```kotlin
fun maxOf(a: Int, b: Int): Int = if (a > b) a else b
```

## Expresión `when`

`when` es una forma más flexible y clara de manejar múltiples condiciones:

```kotlin
fun describe(obj: Any): String = when (obj) {
    1 -> "One"
    "Hello" -> "Greeting"
    is Long -> "Long"
    !is String -> "Not a string"
    else -> "Unknown"
}
```

:::tip Ejercicio: Reescribir usando `when`
<Tabs>
    <TabItem value="Enunciado" label="Enunciado">
        Reescribe la función `login` utilizando una expresión `when`.

        ```kotlin
        fun login(username: String, password: String): Boolean {
            if (loginAttempts >= MAX_LOGIN_ATTEMPTS) {
            return false
        }
        if (isValidPassword(password)) {
            loginAttempts = 0
            return true
        }
        loginAttempts++
        return false
    }
        ```
    </TabItem>

    <TabItem value="Solución" label="Solución">
        ```kotlin
        fun login(username: String, password: String): Boolean = when {
            loginAttempts >= MAX_LOGIN_ATTEMPTS -> false
            isValidPassword(password) -> {
                loginAttempts = 0
                true
            }
            else -> {
                loginAttempts++
                false
            }
        }
        ```
    </TabItem>
</Tabs>
:::

## Rangos

Kotlin permite crear rangos para iterar sobre secuencias de números:

```kotlin
for (i in 1..5) print(i) // Imprime: 12345
```

:::tip Ejercicio: Suma de un rango
<Tabs>
    <TabItem value="Enunciado" label="Enunciado">
        Implementa una función que calcule la suma de todos los números entre $a$ y $b$, incluyendo ambos extremos.


        ```kotlin
        fun sumRange(a: Int, b: Int): Int {
            // Implementación
        }
        ```
    </TabItem>

    <TabItem value="Solución" label="Solución">
        ```kotlin
        fun sumRange(a: Int, b: Int): Int {
            var sum = 0
            if (a <= b) {
                for (i in a..b) {
                    sum += i
                }
            } else {
                for (i in a downTo b) {
                    sum += i
                }
            }
            return sum
        }
        ```
    </TabItem>

    <TabItem value={"Solución (mejorada)"} label={"Solución (mejorada)"}>
        ```kotlin
        fun sumRange(a: Int, b: Int): Int {
            val range = if (a <= b) a..b else a downTo b
            return range.sum()
        }
        ```
        Este código define una función llamada `sumRange` que toma dos enteros `a` y `b` como parámetros y devuelve la suma de todos los números entre ellos, independientemente de si `a` es mayor o menor que `b`.

        - Si `a` es menor o igual a `b`, se crea un rango ascendente (`a..b`).
        - Si `a` es mayor que `b`, se crea un rango descendente (`a downTo b`).
        - Luego, la función `sum()` se utiliza para sumar todos los números en el rango, y el resultado se devuelve.
    </TabItem>
</Tabs>
:::
