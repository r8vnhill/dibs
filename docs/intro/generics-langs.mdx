---
title: Polimorfismo paramétrico en otros lenguajes
---

## Java

Tanto Kotlin como Java soportan **polimorfismo paramétrico** y **genéricos**, lo que permite definir clases y funciones que operan sobre tipos abstractos. Sin embargo, hay diferencias importantes en cómo ambos lenguajes implementan características como los **upper bounds**, **lower bounds**, y la **varianza**.

### Upper y Lower Bounds

#### Upper Bounds
En Kotlin, los **upper bounds** se especifican usando `:` o la cláusula `where`, lo que permite restringir un tipo genérico a subtipos de una clase o interfaz. En Java, se usa la palabra clave `extends` para lograr este mismo comportamiento.

**Ejemplo en Java:**

```java
public static <T extends Number> double add(T a, T b) {
    return a.doubleValue() + b.doubleValue();
}
```

Este ejemplo restringe el parámetro genérico `T` a subtipos de `Number`, asegurando que solo se pueden utilizar tipos que hereden de `Number`.

#### Lower Bounds
En Kotlin, los **lower bounds** se utilizan en contravarianza con `in`, permitiendo usar supertipos del tipo genérico especificado. En Java, este comportamiento se logra utilizando la palabra clave `super` con wildcards (`? super`).

**Ejemplo en Java:**

```java
public static <T> void addItems(List<? super T> list, T item) {
    list.add(item);
}
```

En este caso, `list` puede aceptar cualquier supertipo de `T`, lo que permite mayor flexibilidad.

### Varianza: Sitio de Declaración y Sitio de Uso

#### Varianza en el Sitio de Declaración
Kotlin soporta **varianza en el sitio de declaración**, utilizando `out` para **covarianza** y `in` para **contravarianza** al declarar un tipo genérico. En Java, no existe un equivalente directo en el sitio de declaración; en su lugar, se usa **varianza en el sitio de uso** con wildcards.

#### Varianza en el Sitio de Uso
En ambos lenguajes se permite especificar varianza en el sitio de uso. En Kotlin, esto se logra mediante **proyecciones** (`out` y `in`), mientras que en Java se usan wildcards (`? extends` y `? super`).

**Ejemplo en Java de covarianza (`? extends`)**:

```java
public static void printItems(List<? extends Number> list) {
    for (Number n : list) {
        System.out.println(n);
    }
}
```

Este ejemplo permite pasar una lista de cualquier subtipo de `Number` y trabajar con ella de forma segura, lo que sería equivalente a `out` en Kotlin.

**Ejemplo en Java de contravarianza (`? super`)**:

```java
public static void addStringItem(List<? super String> list) {
    list.add("Hello, Java!");
}
```

En este caso, se permite pasar una lista de cualquier supertipo de `String` y añadirle elementos del tipo `String`, equivalente a `in` en Kotlin.

### Tabla Comparativa

| **Característica**                      | **Kotlin**                                                                       | **Java**                                                                          |
|-----------------------------------------|----------------------------------------------------------------------------------|-----------------------------------------------------------------------------------|
| **Upper Bounds**                        | Se usa `:` o `where` para especificar upper bounds.                              | Se usa `extends` para especificar upper bounds.                                   |
| **Lower Bounds**                        | Se utiliza `in` para definir lower bounds en contravarianza.                     | Se usa `super` para definir lower bounds en wildcards.                            |
| **Varianza en el Sitio de Declaración** | Se especifica directamente con `out` para covarianza y `in` para contravarianza. | No se soporta varianza en el sitio de declaración, se utiliza en el sitio de uso. |
| **Varianza en el Sitio de Uso**         | Usa proyecciones con `out` (covarianza) y `in` (contravarianza).                 | Usa wildcards `? extends` (covarianza) y `? super` (contravarianza).              |

## Scala

**Scala** es otro lenguaje que soporta **polimorfismo paramétrico** y genéricos, compartiendo algunas similitudes con Kotlin, pero también introduciendo características avanzadas que difieren en su implementación, como la **varianza**, **upper bounds**, y **lower bounds**.

### Upper y Lower Bounds

#### Upper Bounds
En Scala, los **upper bounds** se especifican utilizando la sintaxis `<:`, que restringe un tipo genérico a subtipos de una clase o interfaz. Esto es similar a la forma en que Kotlin utiliza `:`. Sin embargo, Scala permite una sintaxis más flexible que incluye múltiples bounds a través de las cláusulas `with` o `extends` para interfaces y clases.

**Ejemplo en Scala:**

```scala
def add[T <: Number](a: T, b: T): Double = a.doubleValue + b.doubleValue
```

#### Lower Bounds
En Scala, los **lower bounds** se especifican usando `>:`, lo que permite que un tipo genérico sea un supertipo de otro tipo, similar a `in` en Kotlin. Esta capacidad permite una flexibilidad adicional en la definición de genéricos.

**Ejemplo en Scala:**

```scala
def addItems[T >: String](list: List[T], item: T): List[T] = item :: list
```

En este ejemplo, `T >: String` asegura que `T` debe ser un supertipo de `String`, permitiendo listas de supertipos como `Any`.

### Varianza: Sitio de Declaración y Sitio de Uso

#### Varianza en el Sitio de Declaración
Al igual que en Kotlin, Scala permite definir **covarianza** y **contravarianza** en el sitio de declaración. Se utiliza `+` para covarianza (equivalente a `out` en Kotlin) y `-` para contravarianza (equivalente a `in` en Kotlin).

**Ejemplo en Scala para covarianza (`+`)**:

```scala
class Producer[+T](value: T) {
  def produce(): T = value
}
```

#### Varianza en el Sitio de Uso
Scala también soporta la especificación de varianza en el sitio de uso mediante **wildcards**, de manera similar a Kotlin y Java.

**Ejemplo en Scala de covarianza en el sitio de uso**:

```scala
def printItems(list: List[_ <: Number]) = list.foreach(println)
```

### Tabla Comparativa

| **Característica**                      | **Kotlin**                                                          | **Scala**                                                                        |
|-----------------------------------------|---------------------------------------------------------------------|----------------------------------------------------------------------------------|
| **Upper Bounds**                        | Se usa `:` o `where` para especificar upper bounds.                 | Se usa `<:` para especificar upper bounds.                                       |
| **Lower Bounds**                        | Se utiliza `in` para definir lower bounds en contravarianza.        | Se usa `>:` para definir lower bounds en contravarianza.                         |
| **Varianza en el Sitio de Declaración** | Se especifica con `out` para covarianza y `in` para contravarianza. | Se especifica con `+` para covarianza y `-` para contravarianza.                 |
| **Varianza en el Sitio de Uso**         | Usa proyecciones con `out` (covarianza) y `in` (contravarianza).    | Usa wildcards `_ <: T` (covarianza) y `_ >: T` (contravarianza) si es necesario. |
