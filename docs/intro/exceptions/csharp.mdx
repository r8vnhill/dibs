---
title: csharp
---
import References from "/src/components/ReferencesComponent";
import ReadingTime from '/src/components/ReadingTime';
import Tabs from '@theme/Tabs'
import TabItem from '@theme/TabItem'

<ReadingTime/>

## Excepciones en C#

En **C#**, el manejo de excepciones comparte muchas similitudes con otros lenguajes, como **Kotlin** y **Java**. Las excepciones son un mecanismo para manejar errores inesperados durante la ejecución de un programa, y su sintaxis es bastante directa.

### Lanzar Excepciones

En **C#**, puedes lanzar una excepción con la palabra clave `throw`, similar a Kotlin:

```csharp showLineNumbers
public int Divide(int a, int b) {
    if (b == 0) {
        throw new ArgumentException("Cannot divide by zero");
    }
    return a / b;
}
```

Aquí lanzamos una excepción `ArgumentException` cuando se intenta dividir por cero, muy similar al ejemplo de Kotlin.

### Capturar Excepciones

Al igual que en Kotlin, **C#** utiliza la estructura `try-catch` para capturar excepciones. Puedes manejar diferentes tipos de excepciones de forma específica y realizar acciones cuando se producen errores.

```csharp showLineNumbers
public int SafeDivide(int a, int b) {
    try {
        return a / b;
    } catch (DivideByZeroException e) {
        Console.WriteLine($"Error: {e.Message}");
        return 0;  // Retorna 0 si ocurre una excepción
    }
}
```

### Bloque `finally`

En **C#**, el bloque `finally` también es opcional y se ejecuta después del bloque `try` o `catch`, independientemente de si se lanzó una excepción o no. Es útil para liberar recursos, como conexiones a bases de datos o archivos abiertos.

```csharp showLineNumbers
public void ReadFile(string path) {
    try {
        // Leer archivo
        Console.WriteLine("Reading file...");
    } catch (Exception e) {
        Console.WriteLine($"Error: {e.Message}");
    } finally {
        Console.WriteLine("Cleaning up resources");
    }
}
```

### Excepciones Personalizadas

Al igual que en Kotlin, puedes crear tus propias excepciones en **C#** extendiendo la clase `Exception`. Esto permite definir errores específicos y personalizados para tu aplicación.

```csharp showLineNumbers
public class CustomException : Exception {
    public CustomException(string message) : base(message) {}
}

public void ValidateAge(int age) {
    if (age < 18) {
        throw new CustomException("Age must be 18 or older");
    }
}
```

### Propagación de Excepciones

En **C#**, si no capturas una excepción, esta se propagará hacia arriba en la pila de llamadas, igual que en Kotlin. No es necesario declarar las excepciones lanzadas por una función en la firma del método, al contrario que en **Java**.

```csharp showLineNumbers
public void RiskyOperation() {
    throw new InvalidOperationException("Something went wrong");
}

public static void Main(string[] args) {
    RiskyOperation();  // La excepción terminará el programa si no se captura
}
```

### Comparación Final

| Característica                     | Kotlin                                  | C#                                        |
|------------------------------------|-----------------------------------------|-------------------------------------------|
| **Lanzar excepciones**             | `throw`                                 | `throw new ExceptionType()`               |
| **Capturar excepciones**           | `try-catch`                             | `try-catch`                               |
| **Bloque `finally`**               | Ejecución opcional tras `try` o `catch` | Igual que en Kotlin                       |
| **Excepciones personalizadas**     | Extiende `Exception`                    | Extiende `Exception`                      |
| **Declaración de excepciones**     | No requiere declaración                 | No requiere declaración                   |
| **Ausencia de excepciones chequeadas** | Sí                                     | Sí                                        |

### Ventajas de las Excepciones en C#

1. **Manejo robusto**: C# proporciona una forma clara y estructurada de manejar excepciones, con soporte para bloques `try-catch-finally`.
2. **Compatibilidad**: Al igual que Kotlin, **C#** es ampliamente utilizado, lo que facilita la integración en entornos corporativos.
3. **Excepciones personalizadas**: Es fácil crear excepciones específicas, lo que permite un control más preciso sobre el manejo de errores.

### Desventajas de las Excepciones en C#

1. **Excepciones no chequeadas**: Al igual que en Kotlin, todas las excepciones en C# son no chequeadas, lo que puede llevar a una falta de previsión sobre las excepciones que una función podría lanzar.
2. **Mayor verbosidad**: Aunque las excepciones en C# son similares a Kotlin, la sintaxis puede ser más extensa, especialmente cuando se manejan errores personalizados.

## ¿Qué Aprendimos?

En esta comparación entre **Kotlin** y **C#**, hemos visto que ambos lenguajes manejan las excepciones de manera similar, con `throw`, `try-catch`, y la capacidad de personalizar excepciones. Mientras que **C#** ofrece una estructura robusta y ampliamente utilizada para manejar errores, **Kotlin** simplifica la gestión de excepciones con una sintaxis más concisa y funcional, y hace uso de tipos anulables o `Result` para manejar errores de manera más funcional.

<References references={[
    {
        title: "Exceptions",
        siteOrAuthor: "Microsoft Docs",
        url: "https://learn.microsoft.com/en-us/dotnet/csharp/fundamentals/exceptions/"
    }
]}/>