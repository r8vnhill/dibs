---
title: Punto de entrada en Swift
---
import { ProCons, Pros, Cons } from '@site/src/components/cajitas/ProCons'
import ExcludeFromReadingTime from '@site/src/components/reading-time/ExcludeFromReadingTime'
import ReadingTime from '@site/src/components/reading-time/ReadingTime'
import Explanation from '@site/src/components/admonitions/Explanation'
import GithubRepoLink from '@site/src/components/git/GithubRepoLink'

<ReadingTime />
<GithubRepoLink user="r8vnhill" repo="swift-dibs" />

Swift est√° dise√±ado para permitirte comenzar r√°pido. A diferencia de otros lenguajes donde siempre debes definir una funci√≥n `main`, en Swift puedes escribir c√≥digo directamente en un archivo llamado `main.swift`, y ese ser√° autom√°ticamente el punto de entrada del programa.

Esto simplifica la escritura de scripts y herramientas peque√±as, sin sacrificar la posibilidad de estructurar programas m√°s complejos gracias al uso de anotaciones como `@main`. En esta lecci√≥n, exploraremos ambas formas de definir el punto de entrada en Swift: la impl√≠cita (mediante c√≥digo a nivel superior) y la estructurada (usando `@main`). Tambi√©n aprender√°s c√≥mo recibir argumentos desde la l√≠nea de comandos, una herramienta clave para hacer tus programas m√°s vers√°tiles.

Esta secci√≥n te prepara para escribir tanto peque√±os scripts como aplicaciones modulares m√°s avanzadas, manteniendo un enfoque idiom√°tico y reutilizable en el desarrollo de bibliotecas de software.

## üõ†Ô∏è ¬øC√≥mo ejecutar estos ejemplos?

Para poder ejecutar los ejemplos mostrados, es √∫til saber c√≥mo crear un proyecto b√°sico en Swift y c√≥mo estructurarlo en m√≥dulos reutilizables. Estos recursos te guiar√°n paso a paso:

- üì¶ [Crear un Proyecto B√°sico en Swift](/docs/build-systems/init/swift)  
  Aprende a iniciar un proyecto desde cero usando Swift Package Manager.
- üß© [Modularizar tu Proyecto Swift](/docs/build-systems/modular-design/swift)  
  Descubre c√≥mo dividir tu c√≥digo en m√≥dulos separados para mejorar la organizaci√≥n, reutilizaci√≥n y mantenibilidad.

## üß¨ Declaraci√≥n de `main` en Swift

En Swift, **no necesitas declarar una funci√≥n `main` de forma expl√≠cita** cuando escribes scripts o aplicaciones sencillas. El archivo `main.swift` se considera autom√°ticamente el punto de entrada, y **todo el c√≥digo que escribas a nivel superior se ejecuta directamente**.

```swift showLineNumbers title="Script Swift simple (Sources/TypeFundamentals/main.swift)"
print("What cannot change can only be broken.")
```

Luego, puedes ejecutar este script directamente desde la terminal:

```bash title="Desde la terminal"
swift run TypeFundamentals
```

## üß≥ Accediendo a argumentos de l√≠nea de comandos

Al igual que en Kotlin, Swift permite recibir **argumentos desde la terminal** para modificar din√°micamente el comportamiento de un programa. Esto es √∫til para crear herramientas reutilizables, probar componentes con distintos datos, o construir scripts de ejemplo.

```swift showLineNumbers title="Script Swift con argumentos (Sources/TypeFundamentals/main.swift)"
import Foundation

let args = CommandLine.arguments.dropFirst()

if args.isEmpty {
    print("You know nothing, Jon Snow.")
} else {
    let name = args.joined(separator: " ")
    print("Winter is coming for you, \(name).")
}
```

<Explanation>

Este script lee los argumentos de la l√≠nea de comandos y genera un mensaje personalizado seg√∫n el input recibido.

- **`CommandLine.arguments`** es un arreglo de cadenas que incluye todos los argumentos con los que fue invocado el programa. El primer elemento (`arguments[0]`) corresponde al nombre del ejecutable.
- **`dropFirst()`** se usa para ignorar ese primer elemento y trabajar solo con los argumentos reales.
- Si no se entregan argumentos, el programa imprime un mensaje predeterminado.
- Si se entregan uno o m√°s, los concatena y muestra una respuesta personalizada.

</Explanation>


Esta t√©cnica es equivalente al uso de `main(args: Array<String>)` en Kotlin, aunque Swift no requiere una funci√≥n expl√≠cita `main`: simplemente coloca el c√≥digo en `main.swift` y comienza desde ah√≠.

Para ejecutar este script, puedes usar el comando:

```bash title="Desde la terminal"
swift run TypeFundamentals Syrio Forel
```

<details>

<summary>Compatibilidad con sistemas de ejecuci√≥n</summary>

En Swift, puedes definir el punto de entrada de un programa utilizando un tipo estructural anotado con `@main`, como una `struct` o una `class`. Este enfoque es especialmente √∫til cuando deseas una estructura m√°s formal y compatible con herramientas de ejecuci√≥n m√°s exigentes.

```swift showLineNumbers title="Estructura con @main (Sources/TypeFundamentals/main.swift)"
@main
struct Launcher {
    static func main() {
        print("Static main detected.")
    }
}
```

:::info ¬øQu√© es un tipo estructural?

Un **tipo estructural** en Swift es cualquier tipo que define una estructura clara de datos y comportamiento, como `struct`, `class` o `enum`. En el contexto de `@main`, se espera que el tipo tenga un m√©todo `static func main()` que act√∫e como punto de entrada del programa.

Esto permite que Swift compile el programa en un binario ejecutable que puede ser invocado desde la l√≠nea de comandos o herramientas externas, similar a c√≥mo funciona el m√©todo `public static void main` en Java o Kotlin con `@JvmStatic`.

:::

:::danger Error: `'main' attribute cannot be used in a module that contains top-level code`

Swift no permite combinar la anotaci√≥n `@main` con **c√≥digo a nivel superior** (es decir, fuera de funciones, clases o estructuras) dentro del mismo archivo. Esto incluye incluso **l√≠neas en blanco o comentarios mal ubicados**.

‚úÖ Aseg√∫rate de que el archivo que contiene el tipo con `@main` **no tenga ning√∫n otro c√≥digo fuera de ese tipo**.

:::

</details>

## üìä Resumen comparativo

| Caracter√≠stica                        | Kotlin                                                                 | Swift                                                                 |
|--------------------------------------|------------------------------------------------------------------------|-----------------------------------------------------------------------|
| ¬øRequiere una funci√≥n `main` expl√≠cita? | ‚úÖ S√≠, siempre debe declararse una funci√≥n `main`                      | ‚ùå No, el archivo `main.swift` ejecuta directamente el c√≥digo         |
| Forma b√°sica de punto de entrada      | `fun main()` o `fun main(args: Array<String>)`                         | C√≥digo a nivel superior en `main.swift`                               |
| Recepci√≥n de argumentos por consola   | `args: Array<String>`                                                  | `CommandLine.arguments`                                               |
| Herramienta de ejecuci√≥n              | Gradle (`./gradlew :app:run --args="..."`)                             | SwiftPM (`swift run NombreDelTarget`)                                 |

### ‚úÖ Beneficios / ‚ùå Limitaciones

<ProCons>

<Pros>

- Permite escribir scripts simples sin declarar funciones o clases.
- Sintaxis m√°s directa y concisa para casos r√°pidos o exploratorios.
- El soporte de `@main` permite compatibilidad con binarios m√°s estructurados.

</Pros>

<Cons>

- Menos expl√≠cito: el punto de entrada puede ser impl√≠cito, lo que puede generar confusi√≥n en proyectos grandes.
- Errores sutiles si se mezcla `@main` con c√≥digo a nivel superior en el mismo archivo.

</Cons>

</ProCons>

## üéØ Conclusiones

En esta lecci√≥n exploramos c√≥mo se declara y estructura el punto de entrada en programas escritos en Swift, destacando su naturaleza m√°s flexible y concisa en comparaci√≥n con otros lenguajes como Kotlin o Java.

Swift permite una experiencia de scripting m√°s directa al ejecutar c√≥digo ubicado en `main.swift` sin necesidad de funciones expl√≠citas. Esta simplicidad lo hace ideal para scripts, experimentaci√≥n y prototipado r√°pido, mientras que el uso de `@main` permite adoptar una estructura m√°s tradicional cuando se necesita mayor control o integraci√≥n con sistemas de ejecuci√≥n avanzados.

Tambi√©n aprendimos a manejar argumentos desde la l√≠nea de comandos, una t√©cnica esencial para construir programas reutilizables, interactivos y f√°ciles de testear.

### üîë Puntos clave

- Swift **no requiere una funci√≥n `main` expl√≠cita**: basta con colocar c√≥digo en el archivo `main.swift`.
- El acceso a los argumentos de l√≠nea de comandos se hace mediante `CommandLine.arguments`, ignorando el nombre del ejecutable con `dropFirst()`.
- Se puede usar `@main` con un `struct`, `class` o `enum` que defina un `static func main()` como punto de entrada alternativo.
- Swift proh√≠be el uso de `@main` en archivos que contengan c√≥digo a nivel superior.
- La simplicidad de `main.swift` facilita la escritura de scripts, pero puede volverse ambigua en proyectos m√°s grandes si no se organiza con cuidado.

### üß∞ ¬øQu√© nos llevamos?

Swift ofrece una entrada al programa mucho m√°s sencilla que muchos lenguajes tradicionales, pero eso viene con ciertos compromisos:

- Para scripts y herramientas r√°pidas, Swift brilla por su **bajo ruido sint√°ctico** y **fluidez**.
- Para aplicaciones m√°s estructuradas, su sistema basado en `@main` y tipos estructurales permite mantener un dise√±o robusto.
- Comprender las reglas sobre `main.swift`, `@main` y `CommandLine.arguments` es esencial para evitar errores y sacarle el m√°ximo provecho tanto a proyectos peque√±os como a aplicaciones modulares m√°s complejas.

El dise√±o de Swift refleja una decisi√≥n deliberada: permitir a quien desarrolla comenzar de forma inmediata sin sacrificar la posibilidad de escalar hacia estructuras formales. Esta elecci√≥n lo convierte en un lenguaje pragm√°tico y adaptable para la creaci√≥n de bibliotecas reutilizables, scripts, y herramientas de l√≠nea de comandos.

<ExcludeFromReadingTime>

## üìñ Referencias

### üî• Recomendadas

- [üåê "#1 Swift Programming - Application Entry Point - Main Function"](https://youtu.be/onM2HuDacic) en *YouTube* por **Davids Videos**: Este video explica c√≥mo definir el punto de entrada de una aplicaci√≥n en Swift. Comienza mostrando el uso tradicional del archivo `main.swift`, donde el compilador espera encontrar el c√≥digo de inicio, y luego presenta una alternativa mediante el uso de la anotaci√≥n @main en una estructura o clase que implemente una funci√≥n `static func main()`. Tambi√©n se aclaran las restricciones de Swift respecto al uso de expresiones a nivel superior fuera del archivo principal, y se muestra c√≥mo evitar conflictos si hay m√∫ltiples anotaciones `@main`. Es una gu√≠a pr√°ctica √∫til para quienes desean personalizar el archivo de entrada, como en proyectos que usan `entry-point.swift`.


{/* ### üîπ Adicionales */}

{/* - [üìö]() */}

</ExcludeFromReadingTime>
