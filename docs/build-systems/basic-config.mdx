---
title: Configuraciones Básicas
---

import ReadingTime from '../../src/components/ReadingTime';

<ReadingTime/>

## `settings.gradle.kts`

El archivo `settings.gradle.kts` es esencial para configurar y gestionar los ajustes globales de un proyecto **Gradle**,
permitiendo definir aspectos como el nombre del proyecto y su estructura de módulos. Este archivo se evalúa al comienzo de la ejecución de Gradle, estableciendo el entorno para el resto del proceso de construcción.

### Propósito Principal

1. **Definir el nombre del proyecto**: Esto es especialmente útil cuando el nombre de la carpeta del proyecto no coincide con el nombre deseado del proyecto en Gradle.
2. **Configurar proyectos multi-módulo**: Para proyectos más complejos, puedes declarar varios módulos o subproyectos en este archivo, permitiendo que Gradle gestione todos los componentes de manera centralizada.

En el caso de nuestro proyecto comenzaríamos con un archivo `settings.gradle.kts` simple como este:

```kotlin title="settings.gradle.kts"
rootProject.name = "gradle-basics"
```

### Proyectos Multi-Módulo

En proyectos grandes, gestionar todo en un único módulo puede volverse ineficiente y difícil de mantener. Esto es especialmente relevante cuando trabajamos en **bibliotecas de software**, donde lxs usuarixs podrían necesitar solo una parte específica de la funcionalidad ofrecida por nuestra biblioteca.

Para resolver este problema, la mayoría de los sistemas de construcción (build systems) permiten crear **proyectos multi-módulo**. Un proyecto multi-módulo divide el código en componentes más pequeños y manejables, lo que facilita la reutilización y mejora la modularidad. Además, permite que diferentes partes del proyecto se desarrollen y se mantengan de manera independiente.

Aunque en este curso las tareas serán lo suficientemente sencillas como para no necesitar múltiples módulos, utilizaremos una estructura multi-módulo para **practicar** y familiarizarnos con este patrón común en la creación de bibliotecas.

#### Definir un Proyecto Multi-Módulo

A continuación, te mostramos cómo configurar un proyecto Gradle multi-módulo en el archivo `settings.gradle.kts`. Este archivo define el nombre del proyecto raíz y los módulos que lo componen:

```kotlin title="settings.gradle.kts"
rootProject.name = "gradle-basics"

include(
    ":app",
    ":lib"
)
```

En este ejemplo, hemos definido dos módulos:
- **`app`**: Actúa como el módulo de la aplicación principal.
- **`lib`**: Es el módulo donde colocaremos la funcionalidad que queremos reutilizar, como nuestras bibliotecas de software.

### ¿Por qué usar Proyectos Multi-Módulo?

1. **Modularidad**: Cada módulo puede contener una parte específica de la funcionalidad, lo que facilita el desarrollo independiente de cada uno.
2. **Reutilización**: Los módulos se pueden compartir entre diferentes proyectos. Por ejemplo, puedes reutilizar el módulo `lib` en otros proyectos sin necesidad de copiar el código.
3. **Mantenimiento**: Al dividir el proyecto en módulos, es más fácil detectar y solucionar problemas, ya que el código está mejor organizado.
4. **Optimización**: Gradle solo recompilará los módulos que hayan sido modificados, lo que reduce el tiempo de compilación en proyectos grandes.

### Aplicación en el Curso

En este curso, aunque los ejemplos serán sencillos, nos enfocaremos principalmente en crear módulos como **`lib`**, ya que el objetivo principal es desarrollar **bibliotecas de software**. Aun así, la estructura multi-módulo te permitirá practicar cómo organizar un proyecto real en el que:
- La biblioteca (módulo `lib`) encapsula las funcionalidades.
- El módulo de aplicación (`app`) consume las bibliotecas desarrolladas.

### Dependencias

Las **dependencias** son componentes externos o bibliotecas que tu proyecto necesita para compilarse y ejecutarse correctamente. Estas dependencias pueden incluir desde bibliotecas de terceros hasta herramientas internas que extienden la funcionalidad de tu código. En lugar de manejar manualmente las dependencias y sus versiones, los sistemas de construcción modernos automatizan este proceso.

### Gestión de Dependencias en Sistemas de Construcción

**Gradle**, como muchos otros sistemas de construcción, automatiza la descarga e integración de las dependencias, ya sea desde repositorios remotos como **Maven Central** o **JCenter**, o desde repositorios locales. Sin embargo, Gradle no es el único sistema que ofrece esta funcionalidad. Otros sistemas de construcción que también gestionan dependencias incluyen:
Algunos ejemplos de sistemas de construcción que descargan y gestionan dependencias son: **Maven**, **npm**, **SBT**, **Cargo**.

En las próximas secciones, profundizaremos en cómo agregar y manejar dependencias en Gradle, que es una habilidad
esencial para desarrollar proyectos más complejos.

### `libs.versions.toml`

Aunque no es obligatorio, es una **buena práctica** centralizar las versiones de las dependencias de un proyecto utilizando un archivo `.toml`. Este enfoque garantiza consistencia en las versiones utilizadas en todo el proyecto, evitando problemas de incompatibilidad y facilitando el mantenimiento.

El archivo `libs.versions.toml` se organiza en cuatro secciones principales:

- **Versions**: Especifica las versiones de las dependencias, permitiendo su reutilización en las secciones de bibliotecas y plugins.
- **Libraries**: Define las bibliotecas necesarias para el proyecto, asociándolas con las versiones especificadas en la sección de versiones.
- **Bundles**: Agrupa varias bibliotecas bajo un mismo nombre, facilitando la inclusión de conjuntos de dependencias relacionadas.
- **Plugins**: Configura los plugins del proyecto, también vinculados a las versiones centralizadas.

Este enfoque te ayuda a tener un control centralizado sobre las versiones, evitando la repetición de versiones en múltiples archivos y garantizando que todas las dependencias y componentes utilicen las mismas versiones.

### Ejemplo de archivo `libs.versions.toml`:

```toml title="gradle/libs.versions.toml"
[versions]
kotlin = "2.0.20"
echo = "1.0.0" # Versión de nuestro proyecto

[libraries]
kotlin-gradle-plugin = { module = "org.jetbrains.kotlin:kotlin-gradle-plugin", version.ref = "kotlin" }
```

En este ejemplo:

- La sección `[versions]` define las versiones que serán utilizadas en las dependencias. En este caso, se especifica la versión de Kotlin y una versión para nuestro proyecto (`echo`).
- En la sección `[libraries]`, definimos la biblioteca `kotlin-gradle-plugin` y vinculamos su versión a la referencia `kotlin` especificada anteriormente en la sección `[versions]`.

Al usar esta estructura, cualquier actualización futura de la versión de Kotlin solo requiere modificar el archivo `libs.versions.toml` en un único lugar, manteniendo la consistencia en todo el proyecto.
