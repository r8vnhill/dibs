---
title: Creando un Proyecto B√°sico en Haskell con Cabal
---
import ReadingTime from '@site/src/components/ReadingTime'
import GitHubRepoLink from '@site/src/components/git/GitHubRepoLink'
import Explanation from '@site/src/components/admonitions/Explanation'
import BoxedTabs from '@site/src/components/cajitas/BoxedTabs'
import TabItem from '@theme/TabItem'
import { ProCons, Pros, Cons } from '@site/src/components/cajitas/ProCons'

<ReadingTime />
<GitHubRepoLink user="r8vnhill" repo="echo-app-cabal" />

En esta lecci√≥n aprender√°s a crear un proyecto b√°sico en **Haskell** utilizando **Cabal**, la herramienta est√°ndar del ecosistema para construir y administrar proyectos. Si ya trabajaste con Gradle en Kotlin, reconocer√°s varias ideas familiares: una estructura de carpetas bien definida, configuraci√≥n asistida, soporte para m√∫ltiples componentes (bibliotecas, ejecutables, tests) y herramientas para automatizar el ciclo de desarrollo.

Nuestro objetivo es crear una aplicaci√≥n llamada `echo-app-cabal`, que siga buenas pr√°cticas de organizaci√≥n y sirva como base para futuras lecciones sobre tareas, pruebas, publicaci√≥n y dise√±o de bibliotecas en Haskell. A lo largo del proceso usaremos **GHCup** para instalar y configurar las herramientas necesarias, y detallaremos cada paso del asistente de `cabal init` para que puedas tomar decisiones informadas seg√∫n las necesidades de tu proyecto.

Este enfoque comparativo te permitir√° no solo aprender Haskell, sino tambi√©n ampliar tu perspectiva sobre c√≥mo distintos ecosistemas abordan la creaci√≥n y gesti√≥n de software bien estructurado.

## üß∞ Paso -2: Instalar GHCup

**GHCup** es el instalador oficial y recomendado para configurar el entorno de desarrollo en Haskell. Permite administrar f√°cilmente versiones del compilador **GHC**, la herramienta de construcci√≥n **Cabal**, el servidor de lenguaje **HLS**, y el gestor de proyectos alternativo **Stack**. Funciona en Windows, Linux y macOS, y garantiza una instalaci√≥n consistente y reproducible sin interferir con otras herramientas del sistema.

<BoxedTabs groupId={"os"}>
    <TabItem value="Windows" label="Windows">
        ```powershell
        scoop install ghcup
        ```
    </TabItem>
    <TabItem value="macOS" label="macOS">
        ```bash
        brew install ghcup
        ```
    </TabItem>
    <TabItem value="Linux" label="Linux">
        ```bash
        curl --proto '=https' --tlsv1.2 -sSf https://get-ghcup.haskell.org | sh
        ```

        <Explanation>
            Este comando descarga e instala **GHCup** utilizando `curl` y una tuber√≠a (`|`) para ejecutar el script directamente en la terminal:

            - `curl` es una herramienta de l√≠nea de comandos para transferir datos desde o hacia un servidor.  
            - `--proto '=https'` y `--tlsv1.2` obligan al uso de conexiones seguras (HTTPS con TLS 1.2), lo que garantiza la integridad del contenido descargado.  
            - `-sSf` activa los siguientes modos en `curl`:
                - `-s`: silencioso, no muestra progreso.
                - `-S`: muestra errores si ocurren (solo √∫til junto a `-s`).
                - `-f`: falla si la respuesta HTTP no es exitosa.
            - El URL apunta al script de instalaci√≥n oficial de GHCup.
            - El operador `| sh` ejecuta ese script inmediatamente usando el int√©rprete de comandos `sh`.
        </Explanation>
    </TabItem>
</BoxedTabs>

### ‚úÖ Verificar la instalaci√≥n

Una vez completada la instalaci√≥n, puedes confirmar que **GHCup** se instal√≥ correctamente ejecutando el siguiente comando en tu terminal:

```bash
ghcup --version
```

Si todo sali√≥ bien, ver√°s un mensaje como este:

```plaintext
The GHCup Haskell installer, version 0.1.50.1
```

Esto indica que la herramienta est√° lista para usarse y puedes continuar instalando componentes como GHC, Cabal o HLS desde la misma terminal.

## üîå Paso -1: Instalar GHC

**GHC (Glasgow Haskell Compiler)** es el compilador principal del lenguaje Haskell y una de las herramientas m√°s importantes para cualquier proyecto en este ecosistema. Permite compilar c√≥digo fuente a ejecutables nativos, ejecutar programas de forma interactiva con `ghci`, y sirve como base para otras herramientas como `cabal`, `stack` y `haskell-language-server`.

En esta secci√≥n instalaremos GHC utilizando **GHCup**.

<BoxedTabs groupId={"os"}>
    <TabItem value="Windows" label="Windows">
        ```powershell
        ghcup install ghc && `
            (ghcup whereis ghc).Trim() | ForEach-Object {
                $binPath = Split-Path $_ -Parent
                [Environment]::SetEnvironmentVariable(
                    "PATH",
                    "$($env:PATH);$binPath",
                    "User"
                )
                $env:PATH += ";$binPath"
            }
        ```

        <Explanation>
            Este bloque de PowerShell instala GHC mediante `ghcup` y luego actualiza la variable de entorno `PATH` para que incluya la ruta al compilador reci√©n instalado.

            - **`ghcup install ghc`**: Instala la versi√≥n m√°s reciente disponible del compilador GHC.
            - **`ghcup whereis ghc`**: Devuelve la ruta completa del ejecutable `ghc`, por ejemplo: `.../ghc/9.12.2/bin/ghc.exe`.
            - **`.Trim()`**: Elimina espacios en blanco del resultado, asegurando una ruta limpia.
            - **`Split-Path $_ -Parent`**: Extrae la carpeta contenedora de `ghc.exe` (es decir, el directorio `bin`), que es lo que realmente debe agregarse al `PATH`.
            - **`SetEnvironmentVariable("PATH", ..., "User")`**: Agrega esa carpeta al final del `PATH` a nivel de usuario, haciendo persistente el cambio.
            - **`$env:PATH += ";$binPath"`**: Tambi√©n agrega la ruta en tiempo de ejecuci√≥n para que est√© disponible de inmediato en la sesi√≥n actual de PowerShell.

            De esta manera, no es necesario reiniciar la terminal: podr√°s usar `ghc`, `ghci` o cualquier otro ejecutable disponible en esa ruta sin cerrar y volver a abrir PowerShell.

            :::warning Precauci√≥n al modificar el PATH

            Este script modifica la variable de entorno PATH del usuario. Aunque es seguro si se hace correctamente, aseg√∫rate de no sobrescribir accidentalmente el valor anterior. Siempre a√±ade rutas al final sin eliminar el contenido existente.

            :::
        </Explanation>
    </TabItem>
    <TabItem value="Linux/macOS" label="Linux/macOS">
        ```bash
        ghcup install ghc
        ```

        <Explanation>
            Este comando instala la versi√≥n m√°s reciente del compilador **GHC** utilizando **GHCup**.
            - Al usar `ghcup install ghc` sin argumentos adicionales, se instalar√° autom√°ticamente la √∫ltima versi√≥n recomendada disponible.
            - La instalaci√≥n es administrada por GHCup, lo que garantiza que no interfiera con otras versiones que pudieran estar instaladas manualmente o por otros gestores de paquetes.
        </Explanation>
    </TabItem>
</BoxedTabs>

### ‚úÖ Verificar la instalaci√≥n

Una vez completada la instalaci√≥n de GHC, puedes comprobar que todo est√© funcionando correctamente ejecutando el siguiente comando en tu terminal:

```bash
ghc --version
```

Si la instalaci√≥n fue exitosa, deber√≠as ver un mensaje similar al siguiente:

```plaintext
The Glorious Glasgow Haskell Compilation System, version 9.4.8
```

## ‚öôÔ∏è Paso 0: Instalar Cabal

**Cabal** es la herramienta oficial para construir y administrar proyectos Haskell. Permite compilar bibliotecas y ejecutables, resolver dependencias, y definir metadatos del proyecto a trav√©s de un archivo `.cabal`.

Para instalarla, ejecuta:

```bash
ghcup install cabal
```

### ‚úÖ Verificar la instalaci√≥n

Puedes verificar que **Cabal** se haya instalado correctamente ejecutando el siguiente comando en tu terminal:

```bash
cabal --version
```

Esto deber√≠a mostrar una salida similar a:

```plaintext
cabal-install version 3.12.1.0
compiled using version 3.12.1.0 of the Cabal library
```

:::tip ¬øNo funciona el comando?

Si ves un error como ‚Äú`cabal` no se reconoce como un comando interno o externo‚Äù, intenta cerrar y volver a abrir la terminal. Aseg√∫rate tambi√©n de que la ruta a `cabal` est√© incluida en la variable de entorno `PATH`.

:::

## üèóÔ∏è Paso 1: Crear un nuevo proyecto

La forma m√°s sencilla de comenzar un proyecto en Haskell es usando el comando `cabal init`. Este comando genera la estructura b√°sica de archivos y carpetas, similar a lo que hace `gradle init`:

```bash
cabal init
```

Esto iniciar√° un asistente interactivo que te permitir√° configurar el tipo de proyecto que deseas crear.

## üß† Paso 2: Seleccionar el tipo de componente

Durante la inicializaci√≥n, `cabal` te preguntar√° qu√© tipo de paquete deseas construir:

```plaintext
What does the package build:
   1) Library
 * 2) Executable
   3) Library and Executable
   4) Test suite
Your choice? [default: Executable] 3
```

Selecciona la opci√≥n **3: Library and Executable** para seguir un enfoque similar al que usamos con Gradle, donde tenemos una aplicaci√≥n (`app`) que depende de una biblioteca propia (`lib`).

## üìú Paso 3: Elegir la versi√≥n de la especificaci√≥n de Cabal

En este paso, `cabal init` te pedir√° que elijas la versi√≥n de la especificaci√≥n del archivo `.cabal`. Esta especificaci√≥n define las capacidades del formato del proyecto (como soporte para `common stanzas`, `mixins`, globs con `**`, etc.).

```plaintext
Please choose version of the Cabal specification to use:
   1) 1.24
   2) 2.0   (support for Backpack, internal sub-libs, '^>=' operator)
   3) 2.2   (+ support for 'common', 'elif', redundant commas, SPDX)
   4) 2.4   (+ support for '**' globbing)
 * 5) 3.0   (+ set notation for ==, common stanzas in ifs, more redundant commas, better pkgconfig-depends)
   6) 3.4   (+ sublibraries in 'mixins', optional 'default-language')
Your choice? [default: 3.0]
```

Puedes aceptar la opci√≥n por defecto (`3.0`) a menos que tengas un motivo espec√≠fico para usar una versi√≥n m√°s reciente como `3.4`. Esta opci√≥n proporciona una buena base moderna compatible con la mayor√≠a de herramientas y bibliotecas.

:::info ¬øQu√© es la especificaci√≥n de Cabal?

La versi√≥n de la especificaci√≥n determina qu√© caracter√≠sticas puedes usar en tu archivo `.cabal`. Elegir una versi√≥n m√°s reciente te da acceso a mejoras en la configuraci√≥n del proyecto, pero puede requerir versiones m√°s nuevas de `cabal` o `ghc`.

:::

## üè∑Ô∏è Paso 4: Definir el nombre del paquete

En este punto, `cabal init` te pedir√° un nombre para tu paquete. Este nombre se usar√° en el archivo `.cabal`, en los metadatos del proyecto y al publicar bibliotecas.

```plaintext
Package name? [default: echo-app-cabal]
```

Puedes aceptar el valor por defecto (`echo-app-cabal`) o escribir un nombre distinto si lo prefieres.  
Es recomendable elegir un nombre en min√∫sculas, con palabras separadas por guiones, que refleje claramente el prop√≥sito del proyecto.

## üÜô Paso 5: Asignar la versi√≥n del paquete

Cabal te pedir√° que indiques la versi√≥n inicial del paquete. Este n√∫mero sigue el esquema **sem√°ntico** `mayor.menor.parche.build`, √∫til para controlar versiones durante el desarrollo y la publicaci√≥n.

```plaintext
Package version? [default: 0.1.0.0]
```

Puedes aceptar el valor por defecto (`0.1.0.0`) si est√°s comenzando el proyecto.  
M√°s adelante podr√°s actualizar esta versi√≥n en el archivo `.cabal` a medida que evolucione tu biblioteca o aplicaci√≥n.

## ‚öñÔ∏è Paso 6: Elegir una licencia

Cabal te solicitar√° que elijas una licencia para tu proyecto. Esto define los permisos legales sobre el uso, modificaci√≥n y distribuci√≥n de tu c√≥digo. Aparecer√° una lista de licencias comunes, con la opci√≥n **BSD-3-Clause** seleccionada por defecto.

```plaintext
Please choose a license:
   1) BSD-2-Clause
 * 2) BSD-3-Clause
   3) Apache-2.0
   4) MIT
   ...
  17) Other (specify)
Your choice? [default: BSD-3-Clause] 1
```

- Si no tienes una preferencia espec√≠fica, puedes aceptar la licencia por defecto (**BSD-3-Clause**), que es ampliamente utilizada en el ecosistema Haskell.
- Tambi√©n puedes elegir una licencia m√°s permisiva (como **MIT**) o m√°s restrictiva (como **GPL**), seg√∫n tus necesidades.

:::tip ¬øCu√°l elegir?

Para proyectos de aprendizaje o bibliotecas reutilizables, **BSD-3-Clause** o **MIT** son buenas opciones por su compatibilidad y simplicidad. En este curso, usamos **BSD-2-Clause** debido a su simplicidad c:

:::

## ‚úçÔ∏è Paso 7: Indicar el nombre del autor

El asistente de `cabal init` te pedir√° que indiques el nombre del autor del proyecto. Este nombre aparecer√° en el archivo `.cabal` como metadato del paquete, √∫til para identificaci√≥n y distribuci√≥n.

```plaintext
Author name? [default: r8vnhill]
```

Puedes presionar **Enter** para aceptar el valor por defecto (en este caso, `r8vnhill`) o escribir otro nombre si prefieres usar tu nombre real, un alias o el nombre de tu organizaci√≥n.

:::tip Recomendaci√≥n

Usar un nombre identificable facilita la colaboraci√≥n y el reconocimiento cuando publicas tu paquete en repositorios p√∫blicos como Hackage.

:::

## üì¨ Paso 8: Proporcionar el correo del responsable

El siguiente paso en el asistente de `cabal init` solicita el correo electr√≥nico de la persona encargada del mantenimiento del proyecto. Este dato se incluir√° en el archivo `.cabal` y puede ser utilizado por otras personas para contactarte en caso de dudas, errores o contribuciones.

```plaintext
Maintainer email? [default: reachme@ravenhill.cl]
```

Puedes aceptar el valor por defecto o escribir otra direcci√≥n de correo electr√≥nico si lo deseas.

:::info ¬øQu√© significa "maintainer"?

El *maintainer* es quien se encarga de mantener el c√≥digo, responder preguntas, revisar contribuciones y publicar nuevas versiones. No tiene por qu√© ser la misma persona que el autor.

:::

## üåê Paso 9: Indicar la URL del proyecto

Ahora puedes proporcionar la URL del sitio web del proyecto, si tienes una. Esto es √∫til si el proyecto cuenta con una p√°gina de documentaci√≥n, una demo en l√≠nea o un repositorio p√∫blico.

```plaintext
Project homepage URL? [optional] https://dibs.pages.dev
```

Este campo es **opcional**, pero recomendable si tu proyecto est√° alojado p√∫blicamente, ya que permite a otras personas encontrar f√°cilmente m√°s informaci√≥n.

:::tip ¬øQu√© pasa si lo dejas vac√≠o?

Si no tienes una p√°gina para el proyecto todav√≠a, puedes presionar Enter y completarlo m√°s adelante editando el archivo `.cabal`.

:::

## üìù Paso 10: Escribir una sinopsis del proyecto

En este paso puedes proporcionar una **sinopsis corta** que describa brevemente el prop√≥sito del proyecto. Este texto suele mostrarse en listas o cat√°logos de paquetes, as√≠ que conviene que sea conciso y descriptivo.

```plaintext
Project synopsis? [optional]
```

Por ejemplo:

```plaintext
A small echo application that prints messages with timestamps.
```

:::tip ¬øPuedo dejarlo vac√≠o?

S√≠, este campo es **opcional**. Sin embargo, agregar una sinopsis clara mejora la visibilidad y comprensi√≥n del proyecto cuando otras personas lo encuentren, especialmente si planeas publicarlo.

:::

## üß≠ Paso 11: Elegir una categor√≠a para el proyecto

Este paso te permite asignar una **categor√≠a tem√°tica** al proyecto, lo cual facilita su clasificaci√≥n en repositorios de paquetes como [Hackage](https://hackage.haskell.org/). Elegir una categor√≠a adecuada ayuda a que otrxs usuarixs encuentren tu proyecto con mayor facilidad.

```plaintext
Project category:
   1) Codec
   2) Concurrency
   3) Control
   4) Data
   5) Database
   6) Development
   7) Distribution
   8) Game
   9) Graphics
  10) Language
  11) Math
  12) Network
  13) Sound
  14) System
  15) Testing
  16) Text
  17) Web
  18) Other (specify)
Your choice? [default: (none)]
```

Por ejemplo, si est√°s creando una aplicaci√≥n de l√≠nea de comandos que responde a entradas, podr√≠as elegir:

```plaintext
Your choice? 6
```

:::tip ¬øY si mi proyecto no encaja en ninguna categor√≠a?

Puedes elegir la opci√≥n **18) Other (specify)** y escribir una categor√≠a personalizada que se ajuste mejor a tu proyecto.

:::

## üìÇ Paso 12: Elegir el directorio de c√≥digo fuente

En este paso defines en qu√© carpeta estar√°n los archivos fuente de la biblioteca. Esta decisi√≥n afecta tanto la estructura del proyecto como su mantenibilidad a largo plazo.

```plaintext
Library source directory:
 * 1) src
   2) lib
   3) src-lib
   4) Other (specify)
Your choice? [default: src] 3
```

- `src`: Convenci√≥n com√∫n en muchos lenguajes y herramientas. Simple y est√°ndar.
- `lib`: M√°s tradicional en algunos proyectos Haskell antiguos, aunque menos usada hoy en d√≠a.
- `src-lib`: √ötil si deseas separar claramente los archivos fuente de la biblioteca respecto a los de la aplicaci√≥n (`src-app`), especialmente en proyectos mixtos.

Por ejemplo, si planeas tener tanto una biblioteca como una aplicaci√≥n en el mismo repositorio, elegir `src-lib` puede facilitar esa separaci√≥n desde el inicio:

```plaintext
Your choice? 3
```

## üó£Ô∏è Paso 13: Elegir el est√°ndar de lenguaje

En este paso defines qu√© versi√≥n del est√°ndar del lenguaje Haskell se usar√° como base para tu biblioteca. Esto afecta qu√© extensiones est√°n habilitadas por defecto y qu√© tan moderno (o conservador) ser√° tu entorno de compilaci√≥n.

```plaintext
Choose a language for your library:
 * 1) Haskell2010
   2) Haskell98
   3) GHC2021 (requires at least GHC 9.2)
   4) GHC2024 (requires at least GHC 9.10)
   5) Other (specify)
Your choice? [default: Haskell2010]
```

- **`Haskell2010`**: Opci√≥n segura y ampliamente soportada. Requiere menos dependencias de GHC, ideal para bibliotecas con alta compatibilidad.
- **`GHC2021`**: Activa muchas extensiones modernas por defecto (como `DerivingStrategies`, `LambdaCase`, etc.). Recomendado para nuevos proyectos que usen GHC 9.2 o superior.
- **`GHC2024`**: Versi√≥n m√°s reciente del conjunto de extensiones por defecto. Ideal si deseas estar al d√≠a con las pr√°cticas modernas, pero requiere GHC 9.10 o superior.

```plaintext
Your choice? 3
```

:::info ¬øQu√© significa esto?

La opci√≥n que elijas aqu√≠ se reflejar√° en el campo `default-language` del archivo `.cabal`.  
Por ejemplo:

```cabal
default-language: GHC2021
```

Esto afecta el comportamiento por defecto del compilador sin necesidad de habilitar manualmente extensiones comunes.

:::

## üßæ Paso 14: Definir el m√≥dulo principal

Este paso te pide especificar el archivo fuente donde comenzar√° la ejecuci√≥n del programa, es decir, el que contiene la funci√≥n `main`. Es equivalente a definir el punto de entrada en lenguajes como Kotlin o Java.

```plaintext
What is the main module of the executable:
 * 1) Main.hs
   2) Main.lhs
   3) Other (specify)
Your choice? [default: Main.hs]
```

- **`Main.hs`**: La opci√≥n est√°ndar para la mayor√≠a de los proyectos Haskell.  
- **`Main.lhs`**: Usado si prefieres escribir el c√≥digo como *Literate Haskell*, donde el programa est√° entremezclado con documentaci√≥n (no tan com√∫n).
- **Other**: Si quieres usar otro nombre o ubicar el archivo en una ruta diferente.

Si no tienes razones espec√≠ficas para cambiarlo, puedes aceptar la opci√≥n por defecto (`Main.hs`), que funcionar√° para la mayor√≠a de los casos.

```plaintext
Your choice? [Enter]
```

<details>
    <summary>üìò Literate Haskell</summary>

    **Literate Haskell** es una forma especial de escribir programas en Haskell donde el c√≥digo fuente puede mezclarse con documentaci√≥n escrita en texto plano o Markdown. Existen dos estilos principales:

    #### Estilo Bird

    En este estilo, cualquier l√≠nea que comienza con `>` se interpreta como c√≥digo Haskell. Todo lo dem√°s se considera documentaci√≥n.

    ```haskell
    This is a comment or explanation.
    > double x = x * 2
    > main = print (double 5)
    ```

    #### Estilo LaTeX (o `.lhs`)

    Usado en combinaci√≥n con procesadores LaTeX. El c√≥digo va entre bloques `\begin{code}` y `\end{code}`.

    ```latex
    \begin{code}
    double x = x * 2
    main = print (double 5)
    \end{code}
    ```

    #### üì¶ Extensi√≥n `.lhs`

    Los archivos literate Haskell deben tener la extensi√≥n `.lhs` para que el compilador (`ghc`) los reconozca como tal:

    ```bash
    ghc MyProgram.lhs -o my-program
    ```

    #### ‚úÖ ¬øCu√°ndo usarlo?

    Es √∫til cuando quieres que tu c√≥digo funcione como un documento explicativo o como parte de un tutorial, art√≠culo o presentaci√≥n t√©cnica.
</details>

## üóÉÔ∏è Paso 15: Elegir el directorio principal de la aplicaci√≥n

Durante la creaci√≥n del proyecto, `cabal init` te preguntar√° d√≥nde deseas ubicar el c√≥digo fuente principal de tu aplicaci√≥n:

```plaintext
Application directory:
 * 1) app
   2) exe
   3) src-exe
   4) Other (specify)
Your choice? [default: app]
```

- **`app/`** ‚Üí üì¶ *Recomendado por defecto.* Contiene el punto de entrada (`Main.hs`) de la aplicaci√≥n. Es la opci√≥n m√°s usada para proyectos simples.
- **`exe/`** ‚Üí √ötil si quieres separar expl√≠citamente ejecutables de bibliotecas (`src/`).
- **`src-exe/`** ‚Üí Variante menos com√∫n para quienes prefieren agrupar ejecutables dentro de `src-` prefijado.
- **`Other`** ‚Üí Permite definir un directorio personalizado.

:::tip ¬øQu√© elegir?

Si no est√°s segurx de qu√© elegir, puedes simplemente presionar `Enter` para aceptar la opci√≥n predeterminada: **`app/`**.

:::

## üß© Paso 16: Elegir el est√°ndar del lenguaje Haskell

Durante la creaci√≥n del proyecto, `cabal init` te pedir√° que elijas la versi√≥n del lenguaje Haskell que se usar√° en el ejecutable:

```plaintext
Choose a language for your executable:
 * 1) Haskell2010
   2) Haskell98
   3) GHC2021 (requires at least GHC 9.2)
   4) GHC2024 (requires at least GHC 9.10)
   5) Other (specify)
Your choice? [default: Haskell2010]
```

- **`Haskell2010`** ‚Üí ‚úÖ *Valor por defecto.* Est√°ndar estable y ampliamente soportado. Adecuado para la mayor√≠a de los proyectos.
- **`Haskell98`** ‚Üí Versi√≥n m√°s antigua, √∫til para compatibilidad con c√≥digo legado.
- **`GHC2021`** ‚Üí Activa por defecto varias extensiones modernas. Requiere GHC ‚â• 9.2.
- **`GHC2024`** ‚Üí Similar a GHC2021 pero con m√°s extensiones preactivadas. Requiere GHC ‚â• 9.10.
- **`Other`** ‚Üí Permite definir manualmente otro est√°ndar o conjunto de extensiones.

:::tip ¬øQu√© opci√≥n elegir?

Para proyectos nuevos con GHC ‚â• 9.2, se recomienda `GHC2021` por su equilibrio entre modernidad y estabilidad.  
Si no est√°s segurx o usas una versi√≥n antigua del compilador, puedes dejar la opci√≥n por defecto: **`Haskell2010`**.

:::

## üß™ Paso 17: Generar un test suite

Al crear el proyecto, `cabal init` te preguntar√° si deseas incluir una suite de pruebas para la biblioteca:

```plaintext
Should I generate a test suite for the library? [default: y]
```

Una *test suite* es un conjunto de pruebas automatizadas que permiten verificar que tu c√≥digo funcione como se espera. Incluir una desde el principio es una excelente pr√°ctica para mantener tu proyecto robusto y confiable.

:::tip Recomendaci√≥n

Presiona `Enter` para aceptar la opci√≥n predeterminada (**`y`**) y generar la suite de pruebas b√°sica.  
Siempre puedes modificarla o eliminarla despu√©s.

- Se recomienda mantener la suite de pruebas incluso si no planeas escribir tests a√∫n.
- Es m√°s f√°cil ignorarla que agregarla m√°s tarde.
:::

## üî¨ Paso 18: Elegir el m√≥dulo principal de la suite de pruebas

Si elegiste generar una suite de pruebas, `cabal init` te preguntar√° cu√°l debe ser su m√≥dulo principal:

```plaintext
What is the main module of the test suite?:
 * 1) Main.hs
   2) Main.lhs
   3) Other (specify)
Your choice? [default: Main.hs]
```

- **`Main.hs`** ‚Üí üìÑ Archivo Haskell convencional. Recomendado en la mayor√≠a de los casos.
- **`Main.lhs`** ‚Üí ‚úçÔ∏è Versi√≥n *literate* de Haskell. √ötil si planeas escribir documentaci√≥n y c√≥digo en el mismo archivo.
- **`Other`** ‚Üí Permite indicar un nombre distinto o una ruta personalizada para el archivo principal de pruebas.

:::tip Recomendaci√≥n

A menos que tengas una raz√≥n espec√≠fica para usar *Literate Haskell* o un nombre diferente, presiona `Enter` para usar **`Main.hs`**, que es la opci√≥n m√°s com√∫n y esperada por muchas herramientas.

:::

## üóÇÔ∏è Paso 19: Elegir el directorio para la suite de pruebas

`cabal init` te preguntar√° d√≥nde deseas ubicar los archivos de prueba:

```plaintext
Test directory? [default: test]
```

Aqu√≠ se colocan los archivos fuente de la suite de pruebas, incluyendo el archivo principal (`Main.hs` o equivalente).

:::tip ¬øDeber√≠as cambiarlo?

Generalmente no. La opci√≥n `test/` es ampliamente compatible con herramientas como `cabal`, `stack` y editores como VSCode o IntelliJ con soporte Haskell. Solo considera usar otro nombre si tienes necesidades muy espec√≠ficas de estructura.

:::

## üß´ Paso 20: Elegir el lenguaje base para la suite de pruebas

Durante la configuraci√≥n del proyecto, `cabal init` te preguntar√° qu√© est√°ndar de lenguaje Haskell deseas usar para compilar la suite de pruebas:

```plaintext
Choose a language for your test suite:
 * 1) Haskell2010
   2) Haskell98
   3) GHC2021 (requires at least GHC 9.2)
   4) GHC2024 (requires at least GHC 9.10)
   5) Other (specify)
Your choice? [default: Haskell2010]
```

Esta opci√≥n determina el conjunto de caracter√≠sticas del lenguaje Haskell que estar√°n habilitadas por defecto en tu suite de pruebas.

- **`Haskell2010`** ‚Üí ‚úÖ *Opci√≥n predeterminada y segura.* Compatible con la mayor√≠a de compiladores y herramientas.
- **`GHC2021` / `GHC2024`** ‚Üí üß† *M√°s modernas*, incluyen muchas extensiones √∫tiles habilitadas por defecto, pero requieren versiones recientes del compilador.
- **`Haskell98`** ‚Üí üßì Muy conservadora y limitada; rara vez se usa en proyectos nuevos.
- **`Other`** ‚Üí Te permite especificar manualmente otro est√°ndar (poco com√∫n).

:::tip ¬øCu√°l elegir?

- Si est√°s empezando o buscas compatibilidad amplia: **Haskell2010** es suficiente.
- Si ya usas **GHC >= 9.2**, considera **GHC2021** para aprovechar un entorno m√°s moderno y expresivo.

:::

## üí¨ Paso 21: ¬øAgregar comentarios informativos al archivo `.cabal`?

Al finalizar la configuraci√≥n, `cabal init` te ofrecer√° la opci√≥n de a√±adir comentarios explicativos a cada campo del archivo de configuraci√≥n:

```plaintext showLineNumbers
Add informative comments to each field in the cabal file. (y/n)? [default: y]
```

Si eliges **s√≠** (`y`), el archivo `echo-app-cabal.cabal` incluir√° anotaciones en forma de comentarios (`-- ...`) que explican el prop√≥sito de cada secci√≥n y campo: nombre del paquete, versi√≥n, dependencias, opciones de compilaci√≥n, etc.

Por ejemplo:

```plaintext
-- The license under which the package is released.
license:            BSD-2-Clause
```

Esto es especialmente √∫til si est√°s comenzando con Haskell o si no est√°s familiarizadx con la sintaxis de los archivos `.cabal`.

:::tip ¬øQu√© opci√≥n elegir?

Te recomendamos **aceptar la opci√≥n predeterminada (`y`)**, sobre todo si es la primera vez que trabajas con Cabal. Los comentarios pueden actuar como una peque√±a gu√≠a de referencia para futuras ediciones.

:::

## üóÇ Estructura del proyecto

```mermaid
graph LR
    A[üìÅ echo-app-cabal]

    subgraph C[üìÅ app]
        C1[üìÑ Main.hs]
    end
    A --> C

    subgraph D[üìÅ src-lib]
        D1[üìÑ MyLib.hs]
    end
    A --> D

    subgraph E[üìÅ test]
        E1[üìÑ Main.hs]
    end
    A --> E

    A --> F1[üìÑ CHANGELOG.md]
    A --> F2[üìÑ echo-app-cabal.cabal]
    A --> F3[üìÑ LICENSE]

```

:::info Explicaci√≥n de la estructura

Esta estructura representa un proyecto Haskell inicializado con `cabal init` y configurado para seguir buenas pr√°cticas de organizaci√≥n:

- **üìÅ `echo-app-cabal/`**: Carpeta ra√≠z del proyecto. Contiene todos los archivos fuente, metadatos y configuraci√≥n.
    - **üìÅ `app/`**: Contiene el punto de entrada de la aplicaci√≥n.  
        - **üìÑ `Main.hs`**: M√≥dulo principal del ejecutable, donde inicia el programa (`main :: IO ()`).
    - **üìÅ `src-lib/`**: Carpeta destinada a la **l√≥gica de la biblioteca** del proyecto.  
        - **üìÑ `MyLib.hs`**: Archivo donde se definen funciones reutilizables y separadas del ejecutable.
    - **üìÅ `test/`**: Directorio para las pruebas del proyecto.  
        - **üìÑ `Main.hs`**: M√≥dulo principal de la suite de tests, que suele importar y verificar el comportamiento de la biblioteca.
    - **üìÑ `echo-app-cabal.cabal`**: Archivo central de configuraci√≥n del proyecto. Define el nombre del paquete, los targets (`library`, `executable`, `test-suite`), las dependencias y otras opciones de compilaci√≥n.
    - **üìÑ `CHANGELOG.md`**: Documento opcional que permite llevar un historial de cambios y versiones.
    - **üìÑ `LICENSE`**: Archivo con los t√©rminos de licencia del proyecto (por ejemplo, MIT, BSD, etc.).

Esta separaci√≥n facilita el mantenimiento y escalabilidad del proyecto, permitiendo escribir c√≥digo m√°s modular, reutilizable y probado.

:::

## üéôÔ∏è Paso 22: Crear y ejecutar un *Hello, World* con alma existencialista

Con tu proyecto ya configurado, es momento de escribir y ejecutar tu primer programa en Haskell.  
Vamos a editar el archivo `app/Main.hs` para imprimir una l√≠nea emblem√°tica de *Ergo Proxy*:

```haskell title="app/Main.hs"
module Main where

main :: IO ()
main = putStrLn "I do not belong to the world. That is the limit, the boundary between all and self."
```

### ‚ñ∂Ô∏è Ejecutar el proyecto

Desde la ra√≠z del proyecto, compila y ejecuta la aplicaci√≥n con:

```bash
cabal run
```

Si todo est√° bien configurado, ver√°s una salida similar a esta:

```plaintext
Resolving dependencies...
Build profile: -w ghc-9.4.8 -O1
In order, the following will be built (use -v for more details):
 - echo-app-cabal-0.1.0.0 (lib) (first run)
 - echo-app-cabal-0.1.0.0 (exe:echo-app-cabal) (first run)
Configuring library for echo-app-cabal-0.1.0.0...
Preprocessing library for echo-app-cabal-0.1.0.0...
Building library for echo-app-cabal-0.1.0.0...
[1 of 1] Compiling MyLib            ( src-lib\MyLib.hs, ...\build\MyLib.o )
Configuring executable 'echo-app-cabal' for echo-app-cabal-0.1.0.0...
Preprocessing executable 'echo-app-cabal' for echo-app-cabal-0.1.0.0...
Building executable 'echo-app-cabal' for echo-app-cabal-0.1.0.0...
[1 of 1] Compiling Main             ( app\Main.hs, ...\build\Main.o )
[2 of 2] Linking ...
I do not belong to the world. That is the limit, the boundary between all and self.
```

<Explanation>
    El comando `cabal run` compila y ejecuta autom√°ticamente el ejecutable definido en el archivo `.cabal`.

    - Si es la primera vez que lo corres (o si hiciste cambios), recompilar√° antes de ejecutar.
    - Si no hay cambios pendientes, ejecutar√° directamente el binario previamente compilado.
</Explanation>

:::note ¬øD√≥nde se define el nombre del ejecutable?

En el archivo `.cabal`, dentro de la secci√≥n `executable`, puedes cambiar el nombre del ejecutable:

```cabal
executable echo-app-cabal
  ...
```

Si prefieres un nombre m√°s breve o con tem√°tica del proyecto, como `ergo`, puedes cambiar esa l√≠nea y luego ejecutar el nuevo nombre con `cabal run ergo`.

:::

## üéØ Conclusiones

Crear un proyecto b√°sico en Haskell con Cabal no solo te permite dar tus primeros pasos en el lenguaje, sino tambi√©n comprender c√≥mo se estructuran las bibliotecas, ejecutables y pruebas dentro de un ecosistema funcional moderno. Aunque al principio puede parecer que hay muchas decisiones por tomar, el asistente de `cabal init` gu√≠a el proceso de forma clara y flexible, permiti√©ndote adaptar el proyecto a tus necesidades.

Este tutorial busc√≥ no solo mostrar los comandos necesarios, sino tambi√©n **explicar el "por qu√©" detr√°s de cada elecci√≥n**, brind√°ndote una base s√≥lida para futuros desarrollos.

### üîë Puntos clave

- **GHCup** es la herramienta recomendada para instalar y administrar componentes de Haskell como GHC, Cabal y HLS.
- `cabal init` ofrece un asistente interactivo que facilita la creaci√≥n de proyectos bien organizados.
- La estructura t√≠pica de un proyecto con biblioteca, ejecutable y pruebas se puede definir desde el inicio.
- Elegir est√°ndares modernos como `GHC2021` permite aprovechar extensiones √∫tiles del lenguaje desde el principio.
- Incluir una suite de pruebas desde el inicio es una buena pr√°ctica incluso si a√∫n no planeas escribir tests.

### üß∞ ¬øQu√© nos llevamos?

M√°s all√° de comandos y configuraciones, esta lecci√≥n nos mostr√≥ que Haskell no exige grandes herramientas para comenzar: con GHC, Cabal y un buen entendimiento de su estructura, ya es posible construir proyectos claros, escalables y bien organizados.

Pero tambi√©n aprendimos algo m√°s profundo: que crear un proyecto no es solo cuesti√≥n de responder preguntas en un asistente, sino de tomar decisiones que influir√°n en la forma en que pensamos, escribimos y compartimos c√≥digo. Desde la elecci√≥n de la licencia hasta la estructura del repositorio, cada decisi√≥n refleja una intenci√≥n sobre c√≥mo queremos que evolucione nuestro trabajo.

Con eso en mente, cerrar esta primera etapa escribiendo una l√≠nea de *Ergo Proxy* no fue solo una elecci√≥n est√©tica, sino una declaraci√≥n: nuestros programas tambi√©n pueden tener alma, y cada l√≠nea de c√≥digo puede decir algo m√°s que lo estrictamente necesario.

Nos llevamos, entonces, no solo una carpeta compilable, sino una herramienta lista para crecer con nosotrxs.

## üìñ Referencias

### üî• Recomendadas

- üåê 1. Getting Started with Haskell and Cabal‚ÄîCabal 3.4.0.0 User‚Äôs Guide. (s.¬†f.). Recuperado 3 de abril de 2025, de https://cabal.readthedocs.io/en/3.4/getting-started.html
