---
title: Creando un Proyecto B√°sico con sbt
---

import ReadingTime from '@site/src/components/ReadingTime'
import { ProCons, Pros, Cons } from '@site/src/components/cajitas/ProCons'
import Explanation from '@site/src/components/admonitions/Explanation'
import Exercise from '@site/src/components/exercise/Exercise'
import Solution from '@site/src/components/exercise/Solution'
import BoxedTabs from '@site/src/components/cajitas/BoxedTabs'
import TabItem from '@theme/TabItem'

<ReadingTime />

Antes de automatizar tareas, definir bibliotecas reutilizables o aplicar an√°lisis est√°tico, necesitamos sentar las bases de nuestro proyecto. En esta lecci√≥n aprender√°s a crear una estructura inicial utilizando **sbt**, la herramienta de construcci√≥n m√°s popular en el ecosistema Scala.

A trav√©s de una peque√±a aplicaci√≥n de consola llamada `echo-app-sbt`, exploraremos c√≥mo iniciar un proyecto con una plantilla oficial, revisar su estructura b√°sica y ejecutar un primer programa en Scala 3. Este proceso te dar√° una base s√≥lida para continuar desarrollando bibliotecas escalables, modulares y bien organizadas c las herramientas modernas del lenguaje.

## üõ†Ô∏è ¬øQu√© es sbt?

**sbt** (Simple Build Tool) es la herramienta de construcci√≥n m√°s utilizada en el ecosistema Scala, aunque tambi√©n puede emplearse en proyectos Java o mixtos.

Se destaca por:

- **DSL basada en Scala:** sbt utiliza una sintaxis escrita en Scala, lo que permite definir tareas y configuraciones con la expresividad del lenguaje de desarrollo.
- **Consola interactiva:** proporciona una shell interactiva para ejecutar tareas, observar cambios en tiempo real y recargar configuraciones sin salir del entorno.
- **Cross-building:** permite compilar el mismo proyecto en m√∫ltiples versiones de Scala, lo que es esencial para mantener bibliotecas compatibles con distintas versiones del lenguaje.

## ‚öôÔ∏è Paso 0: Instalar sbt

Antes de crear un nuevo proyecto, aseg√∫rate de tener instalada la herramienta `sbt` en tu sistema. Puedes usar el gestor de paquetes correspondiente a tu sistema operativo:

<BoxedTabs groupId={"os"}>
    <TabItem value="Windows" label="Windows">
        ```powershell
        scoop install sbt
        ```
    </TabItem>
    <TabItem value="macOS" label="macOS">
        ```bash
        brew install sbt
        ```
    </TabItem>
    <TabItem value="Linux" label="Linux">
        ```bash
        sdk install sbt
        ```
    </TabItem>
</BoxedTabs>

### ‚úÖ Verificar la Instalaci√≥n

Para asegurarte de que `sbt` se ha instalado correctamente, abre una terminal y ejecuta:

```bash
sbt --version
```

Deber√≠as ver una salida similar a la siguiente:

```plaintext
sbt runner version: 1.10.11

[info] sbt runner (sbt-the-shell-script) is a runner to run any declared version of sbt.
[info] Actual version of the sbt is declared using project/build.properties for each build.
```

:::info ¬øQu√© versi√≥n est√°s viendo?

La salida indica que `sbt` est√° instalado correctamente y listo para usarse.  
Ten en cuenta que esta versi√≥n es la del *runner*, y que la versi√≥n real de `sbt` utilizada por tu proyecto se definir√° en el archivo `project/build.properties`.

:::

## üß± Paso 1: Crear el Proyecto Base con sbt

Al igual que otras herramientas de construcci√≥n, **sbt** permite crear nuevos proyectos r√°pidamente a partir de **plantillas oficiales** conocidas como *giter8 templates*. En este paso, utilizaremos la plantilla oficial para proyectos en **Scala 3**.

```bash
sbt new scala/scala3.g8
```

<Explanation>
    Ejecuta `sbt new` para generar un proyecto a partir de una plantilla remota.

    - **`sbt new`**: Comando de sbt que inicia un asistente interactivo para crear un nuevo proyecto basado en una plantilla definida en GitHub.
    - **`scala/scala3.g8`**: Plantilla oficial mantenida por el equipo de Scala, dise√±ada para iniciar proyectos en Scala 3. El sufijo `.g8` indica que es una plantilla compatible con *giter8*.
</Explanation>

## üß© Paso 2: Nombrar el Proyecto

Al ejecutar `sbt new scala/scala3.g8`, el asistente interactivo te pedir√° que ingreses un √∫nico valor:

```plaintext
name [Scala 3 Project Template]: echo-app-sbt
```

<Explanation>
    En este paso, sbt solicita el **nombre del proyecto**, que ser√° tambi√©n el nombre del directorio creado.

    - Si presionas Enter sin escribir nada, se usar√° el valor por defecto (`Scala 3 Project Template`), lo cual **no es recomendable**.
    - Escribe un nombre representativo como `echo-app-sbt` para que el proyecto quede bien identificado.

    Este nombre tambi√©n ser√° utilizado en configuraciones internas del proyecto, por lo que es buena pr√°ctica utilizar un formato en **kebab-case** (min√∫sculas y guiones).
</Explanation>

## üóÇ Estructura del Proyecto

Al completar el asistente de creaci√≥n del proyecto con sbt, se genera una estructura de carpetas organizada que incluye el c√≥digo fuente, archivos de configuraci√≥n y pruebas. A continuaci√≥n se muestra un diagrama con los archivos y directorios m√°s relevantes:

```mermaid
graph LR
    A[üìÅ echo-app-sbt]
    A --> B[üìÑ .gitignore]
    A --> C[üìÑ build.sbt]
    A --> D[üìÑ README.md]
    A --> E[üìÅ project]
    E --> E1[üìÑ build.properties]
    A --> F[üìÅ src]
    F --> F1[üìÅ main]
    F1 --> F11[üìÅ scala]
    F11 --> F111[üìÑ Main.scala]
    F --> F2[üìÅ test]
    F2 --> F21[üìÅ scala]
    F21 --> F211[üìÑ MySuite.scala]
```

:::info Explicaci√≥n de la Estructura

Este diagrama muestra la estructura generada por la plantilla oficial de Scala 3 al ejecutar `sbt new scala/scala3.g8`. Los componentes principales son:

- **üìÑ `.gitignore`**: Archivo de configuraci√≥n para Git que indica qu√© archivos deben ignorarse (como carpetas de compilaci√≥n, archivos temporales, etc.).
- **üìÑ `build.sbt`**: Archivo principal de configuraci√≥n del proyecto. Aqu√≠ se declaran dependencias, opciones de compilaci√≥n y plugins.
- **üìÑ `README.md`**: Documento inicial con instrucciones o descripci√≥n del proyecto.
- **üìÅ `project/`**: Carpeta reservada para archivos auxiliares de configuraci√≥n de sbt.
  - **üìÑ `build.properties`**: Archivo que especifica la versi√≥n de sbt a utilizar para este proyecto.
- **üìÅ `src/`**: Carpeta ra√≠z del c√≥digo fuente.
  - **üìÅ `main/scala/`**: C√≥digo fuente principal de la aplicaci√≥n.
    - **üìÑ `Main.scala`**: Punto de entrada del programa.
  - **üìÅ `test/scala/`**: C√≥digo fuente de pruebas.
    - **üìÑ `MySuite.scala`**: Archivo de ejemplo con una prueba unitaria b√°sica.

Esta estructura est√° pensada para proyectos simples y es totalmente compatible con pr√°cticas modernas de desarrollo con Scala.

:::

## üêü Paso 3: Ejecutar un Hello World inquietante

Ahora que ya tienes un proyecto funcional, reemplaza el contenido del archivo `Main.scala` con lo siguiente:

```scala title="src/main/scala/Main.scala"
@main def main(): Unit =
  println("The smell... it's coming from the sea.")
```

<Explanation>
    Este c√≥digo reemplaza el contenido del archivo `Main.scala` generado por la plantilla. La funci√≥n `@main` indica el **punto de entrada** del programa en Scala 3, y permite definirlo de forma directa y concisa.

    - La anotaci√≥n `@main` elimina la necesidad de declarar una clase o extender `App`, como era habitual en Scala 2.
    - En versiones anteriores, el punto de entrada sol√≠a declararse como:
        ```scala
        object Main extends App {
          println("The smell... it's coming from the sea.")
        }
        ```
    - Ahora basta con una funci√≥n anotada, lo que reduce el c√≥digo boilerplate y mejora la legibilidad.

    El programa imprimir√° una frase inquietante inspirada en *Gyo* de Junji Ito.
</Explanation>

### ‚ñ∂Ô∏è Ejecutar el programa

Para compilar y ejecutar tu aplicaci√≥n, desde el directorio del proyecto ejecuta:

```bash
sbt run
```

Deber√≠as ver una salida como esta:

```plaintext
[info] welcome to sbt 1.10.11 (Azul Systems, Inc. Java 23)
[info] loading project definition from ./project
[info] loading settings for project root from build.sbt...
[info] set current project to echo-app-sbt (in build file:./)
[info] compiling 1 Scala source to ./target/scala-3.6.4/classes ...
[info] running 'main'
The smell... it's coming from the sea.
[success] Total time: 4 s, completed Apr 2, 2025, 6:22:12 PM
```

Este peque√±o experimento demuestra lo f√°cil que es poner en marcha una aplicaci√≥n con sbt y Scala 3, incluso si el primer mensaje proviene‚Ä¶ del fondo del oc√©ano. üåäüê†

## üéØ Conclusiones

En esta lecci√≥n aprendimos a crear un proyecto b√°sico usando **sbt** y **Scala 3**, siguiendo un enfoque moderno, simple y expresivo. Comenzamos instalando la herramienta, generamos un proyecto a partir de una plantilla oficial, exploramos su estructura, y finalizamos ejecutando un peque√±o programa de consola con una atm√≥sfera misteriosa.

### üîë Puntos clave

- **sbt** es la herramienta de construcci√≥n m√°s utilizada en el ecosistema Scala, compatible tanto con proyectos en Scala como en Java.
- Usamos el comando `sbt new scala/scala3.g8` para generar un proyecto b√°sico basado en Scala 3.
- La estructura resultante es clara y est√° organizada siguiendo convenciones modernas.
- Scala 3 permite definir el punto de entrada del programa usando `@main`, simplificando el c√≥digo comparado con Scala 2.
- Ejecutar el programa con `sbt run` compila y lanza autom√°ticamente la aplicaci√≥n principal.

### üß∞ ¬øQu√© nos llevamos?

M√°s all√° del c√≥digo que ejecutamos o de los archivos que ahora pueblan nuestro directorio, esta lecci√≥n nos deja algo m√°s importante: el punto de partida. Aprendimos que crear un proyecto en Scala no tiene por qu√© ser complejo, y que herramientas como **sbt**, lejos de ser obst√°culos, pueden convertirse en aliados para estructurar, automatizar y hacer crecer nuestras ideas.

Tambi√©n descubrimos que Scala 3 simplifica muchos aspectos del lenguaje, permiti√©ndonos escribir programas claros desde el primer d√≠a. Iniciar con una funci√≥n `@main` puede parecer trivial, pero encierra una filosof√≠a: **eliminar el ruido, enfocarse en lo esencial y escribir c√≥digo que diga exactamente lo que queremos decir**.

A partir de aqu√≠, ya no estamos frente a un archivo en blanco. Tenemos un entorno preparado, una herramienta lista, y un lenguaje que respira expresividad. El olor viene del mar... pero el impulso viene de ti.

## üìñ Referencias

### üî• Recomendadas

- üåê Building and Testing Scala Projects with sbt. (s.¬†f.). Scala Documentation. Recuperado 2 de abril de 2025, de https://docs.scala-lang.org/scala3/book/tools-sbt.html
