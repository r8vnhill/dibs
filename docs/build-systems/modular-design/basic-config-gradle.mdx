---
title: Configuraciones b√°sicas de proyectos multi-m√≥dulo
---
import ReadingTime from '@site/src/components/ReadingTime'
import { ProCons, Pros, Cons } from '@site/src/components/cajitas/ProCons'
import References from '@site/src/components/ReferencesComponent'
import Tabs from '@theme/Tabs'
import TabItem from '@theme/TabItem'
import Exercise from '@site/src/components/exercise/Exercise'
import Solution from '@site/src/components/exercise/Solution'
import Hint from '@site/src/components/exercise/Hint'
import Definition from '@site/src/components/Definition'
import Corollary from '@site/src/components/Corollary'
import GithubRepoLink from '@site/src/components/GithubRepoLink'
import * as LanguageCards from '@site/src/components/cards/LanguageCard'
import Explanation from '@site/src/components/admonitions/Explanation'
import RepoClone from '@site/src/components/admonitions/RepoClone'

<ReadingTime />
<GithubRepoLink user="r8vnhill" repo="echo-app-kt" />

Cuando trabajamos con **Gradle** en proyectos que contienen m√∫ltiples m√≥dulos, es esencial definir desde el inicio una estructura clara y coherente. Esto no solo mejora la organizaci√≥n del c√≥digo, sino que tambi√©n facilita la reutilizaci√≥n, el mantenimiento y la colaboraci√≥n entre distintas partes de un sistema.

En esta lecci√≥n aprender√°s a configurar un proyecto **multi-m√≥dulo** en Gradle, una pr√°ctica com√∫n en el desarrollo de **bibliotecas de software**. Exploraremos c√≥mo declarar subm√≥dulos en el archivo `settings.gradle.kts`, c√≥mo estructurar tu c√≥digo de forma modular y c√≥mo gestionar versiones de dependencias de manera centralizada con un **cat√°logo de versiones**.

Aunque los ejemplos ser√°n simples, la estructura que construiremos imita la de proyectos profesionales y escalables. Esto te preparar√° para aplicar buenas pr√°cticas desde el comienzo, sin importar el tama√±o del proyecto o el equipo con el que trabajes.

## üõ†Ô∏è `settings.gradle.kts`

El archivo `settings.gradle.kts` es fundamental para establecer los ajustes globales de un proyecto **Gradle**. Desde aqu√≠ se define el nombre del proyecto y se configura su estructura de m√≥dulos. Gradle eval√∫a este archivo al inicio del proceso de construcci√≥n, por lo que su contenido determina c√≥mo se organizar√° el resto del proyecto.

En proyectos simples, su funci√≥n se limita a establecer el nombre del proyecto. Sin embargo, en proyectos m√°s grandes ‚Äîcomo los multi-m√≥dulo‚Äî permite declarar y organizar subproyectos de forma centralizada, haciendo posible que cada m√≥dulo se compile y desarrolle de manera independiente.

### Funciones principales

1. **Definir el nombre del proyecto**: √ötil cuando el nombre de la carpeta ra√≠z no coincide con el nombre que queremos asignar al proyecto.
2. **Estructurar un proyecto multi-m√≥dulo**: Permite declarar los distintos m√≥dulos del proyecto, facilitando la organizaci√≥n y el mantenimiento del c√≥digo.

Para comenzar, nuestro archivo `settings.gradle.kts` puede ser tan simple como:

```kotlin showLineNumbers title="settings.gradle.kts"
rootProject.name = "echo-app"
``` 

## üìÇ Proyectos Multi-M√≥dulo

En proyectos de mayor tama√±o, concentrar todo el c√≥digo en un √∫nico m√≥dulo puede volverse poco pr√°ctico y dif√≠cil de mantener. Esto es especialmente importante al desarrollar **bibliotecas de software**, donde las personas que las usan podr√≠an requerir solo una parte espec√≠fica de su funcionalidad.

Para abordar este desaf√≠o, los sistemas de construcci√≥n modernos ‚Äîcomo Gradle, Maven o SBT‚Äî permiten definir **proyectos multi-m√≥dulo**. Esta estructura divide el proyecto en componentes m√°s peque√±os y desacoplados, lo que facilita la **reutilizaci√≥n**, la **modularidad** y el **desarrollo independiente** de cada parte.

Aunque los ejercicios de este curso no requieren m√∫ltiples m√≥dulos por su complejidad, adoptaremos una estructura multi-m√≥dulo desde el inicio para **familiarizarnos con este patr√≥n**. Esta pr√°ctica es fundamental en el desarrollo de bibliotecas escalables y bien organizadas.

### üìå Estructura de un Proyecto Multi-M√≥dulo

Para comprender mejor la organizaci√≥n de un proyecto **multi-m√≥dulo** en Gradle, visualicemos su estructura en un **diagrama**:

```mermaid
graph TD;
    root["üìÇ echo-app (root)"]
    app["üìÇ app"]
    lib["üìÇ lib"]

    root --> app
    root --> lib
    app --> lib
```

:::info Estructura del Proyecto

- **üìÇ `echo-app (root)`**: Es la **ra√≠z del proyecto**, donde se encuentran los archivos de configuraci√≥n de Gradle, como `settings.gradle.kts`.
- **üìÇ `app` (m√≥dulo de aplicaci√≥n)**: Contiene la l√≥gica principal de la aplicaci√≥n y **depende** del c√≥digo definido en `lib` para reutilizar funcionalidades.
- **üìÇ `lib` (m√≥dulo de biblioteca)**: Agrupa funcionalidades reutilizables que pueden ser usadas tanto por `app` como por otros proyectos que requieran esta l√≥gica.
- üîó **Conexi√≥n entre m√≥dulos**: En lecciones posteriores configuraremos `app` para **importar correctamente `lib`**, estableciendo su dependencia en `build.gradle.kts`.

:::

#### üìú Definir un Proyecto Multi-M√≥dulo

A continuaci√≥n, te mostramos c√≥mo configurar un proyecto Gradle multi-m√≥dulo en el archivo `settings.gradle.kts`. Este archivo define el nombre del proyecto ra√≠z y los m√≥dulos que lo componen:

```kotlin showLineNumbers title="settings.gradle.kts"
rootProject.name = "echo-app"

include(
    ":app",
    ":lib"
)
```

<Explanation>
    - **[4]** `app`: M√≥dulo de la aplicaci√≥n principal.
    - **[5]** `lib`: M√≥dulo que contendr√° la funcionalidad que queremos reutilizar, como nuestras bibliotecas de software.
</Explanation>

:::note Prefijo `:` en los M√≥dulos

El prefijo `:` antes del nombre del m√≥dulo indica que la ruta es "absoluta" y comienza desde la ra√≠z del proyecto. Esto es √∫til para distinguir los m√≥dulos de los subproyectos y facilitar la referencia a los m√≥dulos en otros archivos de configuraci√≥n.

:::

#### üîç ¬øPor qu√© usar Proyectos Multi-M√≥dulo?

<ProCons>
    <Pros>
        - **Modularidad**: Cada m√≥dulo puede contener una parte espec√≠fica de la funcionalidad, lo que facilita el desarrollo independiente de cada uno.
        - **Reutilizaci√≥n**: Los m√≥dulos se pueden compartir entre diferentes proyectos. Por ejemplo, puedes reutilizar el m√≥dulo `lib` en otros proyectos sin necesidad de copiar el c√≥digo.
        - **Mantenimiento**: Al dividir el proyecto en m√≥dulos, es m√°s f√°cil detectar y solucionar problemas, ya que el c√≥digo est√° mejor organizado.
        - **Optimizaci√≥n**: Gradle solo recompilar√° los m√≥dulos que hayan sido modificados, lo que reduce el tiempo de compilaci√≥n en proyectos grandes.
    </Pros>
</ProCons>

#### üöÄ Aplicaci√≥n en el Curso

En este curso, aunque los ejemplos ser√°n sencillos, nos enfocaremos principalmente en crear m√≥dulos como **`lib`**, ya que el objetivo principal es desarrollar **bibliotecas de software**. Aun as√≠, la estructura multi-m√≥dulo te permitir√° practicar c√≥mo organizar un proyecto real en el que:
- La biblioteca (m√≥dulo `lib`) encapsula las funcionalidades.
- El m√≥dulo de aplicaci√≥n (`app`) consume las bibliotecas desarrolladas.

## üèóÔ∏è Dependencias en un Proyecto Multi-M√≥dulo

Las **dependencias** son componentes externos o bibliotecas que tu proyecto necesita para compilarse y ejecutarse correctamente. Estas dependencias pueden incluir desde bibliotecas de terceros hasta herramientas internas que extienden la funcionalidad de tu c√≥digo. En lugar de manejar manualmente las dependencias y sus versiones, los sistemas de construcci√≥n modernos automatizan este proceso.

### üì¶ Gesti√≥n de Dependencias en Gradle

**Gradle**, como muchos otros sistemas de construcci√≥n, automatiza la descarga e integraci√≥n de las dependencias, ya sea desde repositorios remotos como **Maven Central** o **JCenter**, o desde repositorios locales. Algunos ejemplos de sistemas de construcci√≥n que tambi√©n gestionan dependencias incluyen **Maven**, **npm**, **SBT** y **Cargo**.

En las pr√≥ximas lecciones, profundizaremos en c√≥mo agregar y manejar dependencias en Gradle, lo cual es esencial para desarrollar proyectos m√°s complejos.

### üî• Beneficios de la Gesti√≥n de Dependencias en Multi-M√≥dulo

<ProCons>
    <Pros>
        - **Separaci√≥n de responsabilidades**: Cada m√≥dulo gestiona sus propias dependencias sin interferir con otros.
        - **Reutilizaci√≥n**: Un m√≥dulo puede ser utilizado en diferentes aplicaciones sin modificar su c√≥digo.
        - **Optimizaci√≥n de compilaci√≥n**: Gradle recompila solo los m√≥dulos modificados, reduciendo tiempos de build.
    </Pros>
</ProCons>

## üéØ Conclusiones

En esta lecci√≥n, exploramos la configuraci√≥n de **proyectos multi-m√≥dulo** en **Gradle**, abordando su estructura, gesti√≥n de dependencias y organizaci√≥n de versiones. Esta configuraci√≥n es fundamental para desarrollar **bibliotecas de software** de manera modular y mantenible.

### üîë Puntos clave

1. **`settings.gradle.kts` define la estructura del proyecto**  
   - Es el punto de entrada donde establecemos el nombre del proyecto y los m√≥dulos que lo conforman.
2. **Los proyectos multi-m√≥dulo mejoran la modularidad y reutilizaci√≥n**  
   - Separar la aplicaci√≥n en m√≥dulos (`app`, `lib`, etc.) facilita el mantenimiento y permite compartir funcionalidades entre proyectos.
3. **Las dependencias se administran en cada m√≥dulo**  
   - Los m√≥dulos pueden importar otros m√≥dulos o bibliotecas externas de forma independiente.
4. **El cat√°logo de versiones centraliza la gesti√≥n de dependencias**  
   - Usar un archivo `libs.versions.toml` ayuda a garantizar coherencia y facilita actualizaciones en todas las partes del proyecto.

### üöÄ Reflexi√≥n final

El uso de **proyectos multi-m√≥dulo** en Gradle permite escalar aplicaciones y bibliotecas de manera eficiente, promoviendo la separaci√≥n de responsabilidades y la optimizaci√≥n del tiempo de compilaci√≥n. A medida que avancemos en el curso, veremos c√≥mo aplicar estas configuraciones en escenarios m√°s avanzados, incluyendo la integraci√≥n con herramientas de pruebas.

Esta estructura te prepara para proyectos m√°s complejos y te da herramientas clave para desarrollar **software reutilizable y mantenible**.

<div className="language-card-container">
    <LanguageCards.CabalCard link="/docs/build-systems/modular-design/cabal" />
    <LanguageCards.MavenCard link="/docs/build-systems/modular-design/maven" />
    <LanguageCards.PdmCard link="/docs/build-systems/modular-design/pdm" />
    <LanguageCards.SbtCard link="/docs/build-systems/modular-design/sbt" />
    <LanguageCards.SwiftCard link="/docs/build-systems/modular-design/swift" />
</div>

<References references={[
    {
        accessedDate: '9 de septiembre de 2024',
        siteOrAuthor: 'Gradle',
        title: 'Settings File Basics',
        type: 'web',
        url: 'https://docs.gradle.org/current/userguide/settings_file_basics.html'
    },
    {
        accessedDate: '9 de septiembre de 2024',
        siteOrAuthor: 'Gradle',
        title: 'Sharing dependency versions between projects',
        type: 'web',
        url: 'https://docs.gradle.org/current/userguide/platforms.html'
    },
    {
        title: "Multiproject Builds",
        bookTitle: "Gradle in Action",
        pages: "133‚Äì156",
        location: "Shelter Island, NY",
        publisher: "Manning",
        year: "2014",
        type: "book",
        author: 'Muschko, Benjamin and Dockter, Hans',
    },
]}/>
