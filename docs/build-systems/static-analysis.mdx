---
title: Análisis Estático
---

import ReadingTime from '../../src/components/ReadingTime';

<ReadingTime />

## ¿Qué es el análisis estático?

Consiste en el examen del código fuente sin ejecutarlo (a diferencia del análisis dinámico, que requiere ejecución del programa)
Generalmente se realiza mediante herramientas especializadas que pueden analizar el código de manera automática

## Objetivos del Análisis Estático

Identificar errores de programación, como uso incorrecto de tipos, referencias nulas, y violaciones de sintaxis antes de la ejecución del programa
Asegurar la adherencia a estándares de programación y mejores prácticas para mejorar la legibilidad y mantenibilidad del código
Descubrir vulnerabilidades de seguridad potenciales en el código fuente

## Herramientas Comunes de Análisis Estático

Herramientas como ESLint para JavaScript, Flake8 para Python, y RuboCop para Ruby
Herramientas como SonarQube, Fortify y Checkmarx que proporcionan análisis de seguridad en profundidad

## Detekt

Detekt es una herramienta de análisis estático diseñada específicamente para el lenguaje de programación Kotlin
Ofrece una amplia configuración que permite adaptar el análisis a las necesidades específicas de cada proyecto, además de permitir la creación de reglas personalizadas

Analiza el código Kotlin para identificar problemas relacionados con la calidad del código, como complejidad, estilo de codificación, posibles bugs, y antipatrones

Incluye un conjunto de reglas predefinidas que cubren varios aspectos del desarrollo, desde el estilo de codificación hasta la complejidad del código y los riesgos de seguridad

Permite a los desarrolladores definir y ajustar reglas específicas para satisfacer las políticas de codificación de su equipo o empresa

Para utilizar Detekt en el proyecto, lo primero que debemos hacer es agregar la versión al archivo `libs.versions.toml`:

```toml
[versions]
# ...
detekt = "1.23.6"

[libraries]
# ...

[plugins]
detekt = { id = "io.gitlab.arturbosch.detekt", version.ref = "detekt" }
```

Ahora podemos agregar la dependencia en el archivo `build.gradle.kts` del proyecto principal:

[//]: # (FIXME: Modificar esto luego de enseñar tareas y plugins)

```kotlin title="app/build.gradle.kts, lib/build.gradle.kts"
plugins {
    # ...
    alias(libs.plugins.detekt)
}
```

Una vez configurada la dependencia, podemos ejecutar Detekt en el proyecto utilizando el siguiente comando:

```bash
./gradlew :app:detekt :lib:detekt
```

Por ejemplo, si tuvieramos un archivo `Echo.kt` con el siguiente contenido:

```kotlin
package cl.ravenhill

import kotlinx.datetime.*

fun echo(message: String) = "${Clock.System.now()} - $message"

fun main(args: Array<String>){
    for (arg in args) {
        println(echo("Hola, mundo!"))
    }
}
```

Al ejecutar Detekt, obtendríamos un reporte como el siguiente:

```text
> Task :app:detekt FAILED
...\gradle-basics\app\src\main\kotlin\cl\ravenhill\Echo.kt:3:1: kotlinx.datetime.* is a wildcard import. Replace it with fully qualified imports. [WildcardImport]
...\gradle-basics\app\src\main\kotlin\cl\ravenhill\Echo.kt:8:10: Private property `arg` is unused. [UnusedPrivateProperty]
```
