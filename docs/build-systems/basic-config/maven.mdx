---
title: Configuraciones b√°sicas de proyectos multi-m√≥dulo con Maven
---
import ReadingTime from '@site/src/components/ReadingTime'
import { ProCons, Pros, Cons } from '@site/src/components/cajitas/ProCons'
import References from '@site/src/components/ReferencesComponent'
import Tabs from '@theme/Tabs'
import TabItem from '@theme/TabItem'
import Exercise from '@site/src/components/exercise/Exercise'
import Solution from '@site/src/components/exercise/Solution'
import Hint from '@site/src/components/exercise/Hint'
import Definition from '@site/src/components/Definition'
import Corollary from '@site/src/components/Corollary'
import GithubRepoLink from '@site/src/components/GithubRepoLink'
import { LanguageCard, PoetryCard } from '@site/src/components/cards/LanguageCard'
import Explanation from '@site/src/components/admonitions/Explanation'
import RepoClone from '@site/src/components/admonitions/RepoClone'

<ReadingTime />
<GithubRepoLink user="r8vnhill" repo="echo-app-maven" />

Cuando trabajamos con **Maven** en proyectos que contienen m√∫ltiples m√≥dulos, es fundamental configurar correctamente el archivo `pom.xml` del proyecto ra√≠z. Este archivo define la estructura del proyecto, permitiendo organizar m√≥dulos de manera eficiente y facilitando la reutilizaci√≥n del c√≥digo.

En esta lecci√≥n, exploraremos c√≥mo configurar proyectos multi-m√≥dulo en Maven, entenderemos el papel de las **dependencias**, y aprenderemos a gestionar versiones de manera centralizada utilizando un **BOM (Bill of Materials)**. Estas pr√°cticas son clave para desarrollar bibliotecas de software modulares y mantenibles.

## üõ†Ô∏è `pom.xml` en proyectos multi-m√≥dulo

El archivo `pom.xml` es el n√∫cleo de la configuraci√≥n en Maven. En un **proyecto multi-m√≥dulo**, el `pom.xml` del proyecto ra√≠z se conoce como **"POM padre"**, y los subm√≥dulos heredan su configuraci√≥n.

En el caso de nuestro proyecto, comenzar√≠amos con un archivo `pom.xml` simple en el directorio ra√≠z:

```xml showLineNumbers title="pom.xml (proyecto ra√≠z)"
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0
         http://maven.apache.org/maven-v4_0_0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <groupId>com.github.username</groupId>
    <artifactId>echo-app-maven</artifactId>
    <packaging>pom</packaging>
    <version>1.0-SNAPSHOT</version>
    <name>echo-app-maven</name>

    <modules>
        <module>app</module>
        <module>lib</module>
    </modules>
</project>
```

<Explanation>
    - **`<packaging>pom</packaging>`** ‚Üí Indica que este m√≥dulo es solo un contenedor de otros m√≥dulos y no generar√° un artefacto propio.
    - **`<modules>`** ‚Üí Lista los subm√≥dulos que forman parte del proyecto. Cada entrada dentro de `<modules>` debe coincidir con una carpeta dentro del directorio ra√≠z del proyecto.
    - **Herencia de configuraci√≥n** ‚Üí Los subm√≥dulos heredan autom√°ticamente configuraciones comunes del `pom.xml` principal, lo que permite evitar redundancias en cada m√≥dulo individual.
    - **Compilaci√≥n en cascada** ‚Üí Cuando ejecutamos `mvn install` desde el directorio ra√≠z, Maven compilar√° primero los subm√≥dulos en el orden definido dentro de `<modules>`, asegurando que las dependencias internas se resuelvan correctamente.
</Explanation>

## üìÇ Proyectos Multi-M√≥dulo en Maven

En proyectos grandes, gestionar todo en un √∫nico m√≥dulo puede volverse ineficiente y dif√≠cil de mantener. Dividir el c√≥digo en m√≥dulos facilita la reutilizaci√≥n y mejora la modularidad. 

A diferencia de otros sistemas de construcci√≥n, en Maven:
- **Cada m√≥dulo tiene su propio `pom.xml`**, que puede definir dependencias espec√≠ficas.
- **Los m√≥dulos heredan configuraciones del POM padre**, pero pueden sobrescribirlas si es necesario.

### üìå Estructura de un Proyecto Multi-M√≥dulo en Maven

```mermaid
graph TD;
    root["üìÇ echo-app (root)"]
    app["üìÇ app"]
    lib["üìÇ lib"]

    root --> app
    root --> lib
    app --> lib
```

:::info Estructura del Proyecto

- **üìÇ `echo-app (root)`**: Contiene el POM padre (`pom.xml`), que define la estructura del proyecto.
- **üìÇ `app` (m√≥dulo de aplicaci√≥n)**: Contiene la l√≥gica principal y depende del c√≥digo en `lib`.
- **üìÇ `lib` (m√≥dulo de biblioteca)**: Contiene c√≥digo reutilizable que puede ser consumido por `app` y otros proyectos.

:::

Cada subm√≥dulo tiene su propio `pom.xml`. Por ejemplo, el m√≥dulo `app` incluir√≠a lo siguiente:

```xml showLineNumbers title="app/pom.xml"
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0
         http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <parent>
        <groupId>com.github.username</groupId>
        <artifactId>echo-app-maven</artifactId>
        <version>1.0-SNAPSHOT</version>
    </parent>

    <artifactId>app</artifactId>

    <dependencies>
        <dependency>
            <groupId>com.github.username</groupId>
            <artifactId>lib</artifactId>
            <version>1.0-SNAPSHOT</version>
        </dependency>
    </dependencies>
</project>
```

<Explanation>
    - **`<parent>`** ‚Üí Define que este m√≥dulo (`app`) hereda la configuraci√≥n del `pom.xml` del proyecto ra√≠z (`echo-app-maven`). Esto evita la necesidad de duplicar configuraciones comunes en cada subm√≥dulo.
    - **`<artifactId>app</artifactId>`** ‚Üí Especifica el identificador √∫nico para este m√≥dulo dentro del proyecto.
    - **`<dependencies>`** ‚Üí Declara las dependencias necesarias para este m√≥dulo. 
        - En este caso, el m√≥dulo `app` depende del m√≥dulo `lib`, por lo que se incluye como una dependencia.
        - Como ambos m√≥dulos pertenecen al mismo proyecto, se usa la misma `groupId` (`com.github.username`) y la misma versi√≥n (`1.0-SNAPSHOT`).
    - **Gesti√≥n de versiones** ‚Üí Al heredar del `POM` padre, este m√≥dulo puede omitir ciertas configuraciones como la versi√≥n de `Maven` o plugins, ya que ser√°n tomadas del `pom.xml` ra√≠z.
    - **Compilaci√≥n jer√°rquica** ‚Üí Cuando se ejecuta `mvn install` en el directorio ra√≠z, primero se compilar√° `lib` (porque `app` depende de √©l) y luego `app`, asegurando que todas las dependencias internas est√©n disponibles.
</Explanation>

## üèóÔ∏è Gesti√≥n de Dependencias en Maven

### üì¶ Herencia vs. Dependencias en Multi-M√≥dulo

A diferencia de otros sistemas de construcci√≥n, en Maven un **m√≥dulo puede heredar configuraciones globales** a trav√©s de `<parent>`, pero debe **declarar expl√≠citamente sus dependencias** en `<dependencies>`. Esto es crucial para mantener independencia entre m√≥dulos.

### üî• Bill of Materials (BOM)

Maven permite gestionar versiones de dependencias de manera centralizada usando un **BOM (Bill of Materials)**. Esto se logra a trav√©s del `dependencyManagement`, que permite definir versiones sin repetirlas en cada m√≥dulo.

Ejemplo de un BOM en el `pom.xml` ra√≠z:

```xml showLineNumbers title="pom.xml"
<dependencyManagement>
    <dependencies>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-dependencies</artifactId>
            <version>3.0.0</version>
            <scope>import</scope>
            <type>pom</type>
        </dependency>
    </dependencies>
</dependencyManagement>
```

<Explanation>
    - **`dependencyManagement`** centraliza versiones de dependencias.
    - **Los m√≥dulos hijos pueden usar estas dependencias sin especificar la versi√≥n.**
</Explanation>

## üìä Comparaci√≥n entre Maven y Gradle en Proyectos Multi-M√≥dulo

| **Aspecto**               | **Maven**                                  | **Gradle**                                   |
|--------------------------|------------------------------------------|----------------------------------------------|
| **Definici√≥n de m√≥dulos** | Se usa `<modules>` en el `pom.xml` ra√≠z  | Se usa `include(":modulo")` en `settings.gradle.kts` |
| **Herencia de configuraci√≥n** | Se logra con `<parent>` en cada `pom.xml` | Se logra con `plugins` y `subprojects` |
| **Manejo de versiones** | Se centraliza con un **BOM** | Se centraliza con un **cat√°logo de versiones** |
| **Compilaci√≥n incremental** | No soporta compilaci√≥n incremental | S√≠ soporta compilaci√≥n incremental |
| **Flexibilidad** | Estricto, basado en XML | M√°s flexible, basado en c√≥digo |
| **Ecosistema** | Usado en grandes proyectos empresariales | Preferido en proyectos modernos y startups |

### ‚öñÔ∏è Beneficios y limitaciones

<ProCons>
    <Pros>
        - **Estandarizaci√≥n**: Maven sigue convenciones estrictas, lo que hace que su estructura sea predecible.
        - **Compatibilidad con grandes proyectos**: Usado en entornos empresariales con dependencias complejas.
    </Pros>
    <Cons>
        - **Menos flexibilidad**: No permite definir tareas personalizadas f√°cilmente.
        - **XML m√°s verboso**: Las configuraciones pueden ser largas y dif√≠ciles de leer.
    </Cons>
</ProCons>

## üéØ Conclusiones

A lo largo de esta lecci√≥n, hemos explorado la configuraci√≥n de **proyectos multi-m√≥dulo en Maven**, abordando su estructura, gesti√≥n de dependencias y diferencias con otros sistemas de construcci√≥n como **Gradle**. Esta configuraci√≥n es fundamental para desarrollar **bibliotecas de software** modulares, reutilizables y mantenibles.

### üîë Puntos clave

1. **Maven estructura proyectos multi-m√≥dulo con un POM padre (`pom.xml`)**  
   - Define la relaci√≥n entre los m√≥dulos y permite que hereden configuraciones comunes.
   - Facilita la organizaci√≥n de grandes proyectos en componentes independientes.
2. **Cada m√≥dulo tiene su propio `pom.xml`, pero hereda configuraciones del POM padre**  
   - La herencia simplifica la configuraci√≥n, evitando duplicaci√≥n innecesaria.
   - A diferencia de Gradle, las dependencias deben declararse expl√≠citamente en cada m√≥dulo.
3. **La compilaci√≥n en Maven es jer√°rquica**  
   - Maven compila primero los m√≥dulos en el orden especificado dentro de `<modules>`.
   - Asegura que las dependencias internas est√©n disponibles antes de compilar otros m√≥dulos.
4. **Manejo centralizado de versiones con BOM (`Bill of Materials`)**  
   - Permite definir versiones de dependencias en un solo lugar.
   - Los m√≥dulos pueden utilizar estas dependencias sin necesidad de especificar la versi√≥n.
5. **Diferencias clave entre Maven y Gradle en proyectos multi-m√≥dulo**  
   - **Maven** es m√°s estricto y basado en XML, con una estructura r√≠gida pero predecible.
   - **Gradle** ofrece mayor flexibilidad con su DSL basada en c√≥digo, lo que facilita la configuraci√≥n de tareas personalizadas.

### ‚úÖ Cu√°ndo elegir Maven sobre Gradle

Maven es una excelente opci√≥n en los siguientes casos:

‚úîÔ∏è **Proyectos empresariales grandes** con m√∫ltiples equipos, donde la estandarizaci√≥n y la compatibilidad son clave.  
‚úîÔ∏è **Sistemas con muchas dependencias** que necesitan versiones bien controladas y estabilidad.  
‚úîÔ∏è **Organizaciones que ya usan Maven** y buscan continuidad en herramientas y flujos de trabajo.  

### ‚ö†Ô∏è Cu√°ndo considerar Gradle en su lugar

En cambio, **Gradle** puede ser preferible si:

‚ùå **Se requiere mayor flexibilidad**, ya que permite definir tareas personalizadas de forma m√°s sencilla.  
‚ùå **Se busca optimizar tiempos de compilaci√≥n**, dado que Gradle admite compilaci√≥n incremental.  
‚ùå **Se quiere evitar XML verboso**, optando por una sintaxis m√°s concisa y expresiva.  

### üöÄ Reflexi√≥n final

El uso de **proyectos multi-m√≥dulo en Maven** permite escalar aplicaciones y bibliotecas de manera eficiente, promoviendo la **separaci√≥n de responsabilidades** y la **modularidad**. Si bien Gradle ofrece m√°s flexibilidad, **Maven sigue siendo la opci√≥n preferida en proyectos empresariales** por su predictibilidad y amplia adopci√≥n en el ecosistema Java.  

<References references={[
    {
        title: "Multi-module Projects",
        bookTitle: "Apache Maven cookbook: Over 90 hands-on recipes to successfully build and automate development life cycle tasks following Maven conventions and best practices",
        publisher: "Packt Publishing",
        pages: "177‚Äì195",
        year: "2015",
        author: "Raghuram Bharathan",
        type: "book",
    },    
]} additionalReferences={[
    {
        title: "Guide to Working with Multiple Subprojects in Maven 4",
        url: "https://maven.apache.org/guides/mini/guide-multiple-subprojects-4.html",
        accessedDate: "20 de marzo de 2025",
        type: "web",
        // √öltimo acceso: 20 de marzo de 2025
    },
]}/>
