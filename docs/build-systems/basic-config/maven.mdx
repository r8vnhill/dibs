---
title: Configuraciones b√°sicas de proyectos multi-m√≥dulo con Maven
---
import ReadingTime from '@site/src/components/ReadingTime'
import { ProCons, Pros, Cons } from '@site/src/components/cajitas/ProCons'
import References from '@site/src/components/ReferencesComponent'
import Tabs from '@theme/Tabs'
import TabItem from '@theme/TabItem'
import Exercise from '@site/src/components/exercise/Exercise'
import Solution from '@site/src/components/exercise/Solution'
import Hint from '@site/src/components/exercise/Hint'
import Definition from '@site/src/components/Definition'
import Corollary from '@site/src/components/Corollary'
import GithubRepoLink from '@site/src/components/GithubRepoLink'
import { LanguageCard, PoetryCard } from '@site/src/components/cards/LanguageCard'
import Explanation from '@site/src/components/admonitions/Explanation'
import RepoClone from '@site/src/components/admonitions/RepoClone'
import BoxedTabs from '@site/src/components/cajitas/BoxedTabs'

<ReadingTime />
<GithubRepoLink user="r8vnhill" repo="echo-app-maven" />

Cuando trabajamos con **Maven** en proyectos que contienen m√∫ltiples m√≥dulos, es fundamental configurar correctamente el archivo `pom.xml` del proyecto ra√≠z. Este archivo define la estructura general del proyecto, facilita la organizaci√≥n de los m√≥dulos y promueve la reutilizaci√≥n del c√≥digo.

En esta lecci√≥n aprender√°s a configurar un proyecto **multi-m√≥dulo** en Maven, a comprender el rol de las **dependencias internas** entre m√≥dulos y a gestionar versiones de manera centralizada mediante un **BOM (Bill of Materials)**.

Estas pr√°cticas son fundamentales para crear bibliotecas de software modulares, mantenibles y reutilizables.

## üõ†Ô∏è `pom.xml` en proyectos multi-m√≥dulo

El archivo `pom.xml` es el n√∫cleo de configuraci√≥n de Maven. En un **proyecto multi-m√≥dulo**, el `pom.xml` ubicado en el directorio ra√≠z act√∫a como **POM padre** y define la estructura general del proyecto. Este archivo permite centralizar configuraciones y coordinar los distintos subm√≥dulos, que heredan su configuraci√≥n para mantener coherencia y reducir duplicaci√≥n.

En nuestro caso, comenzamos con un `pom.xml` sencillo en el directorio ra√≠z:

```xml showLineNumbers title="pom.xml (proyecto ra√≠z)"
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0
         http://maven.apache.org/maven-v4_0_0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <groupId>com.github.username</groupId>
    <artifactId>echo-app-maven</artifactId>
    <packaging>pom</packaging>
    <version>1.0.0</version>
    <name>echo-app-maven</name>

    <modules>
        <module>app</module>
        <module>lib</module>
    </modules>
</project>
```

<Explanation>
    - **`<packaging>pom</packaging>`** ‚Üí Indica que este m√≥dulo es un contenedor y no genera un artefacto como `.jar` o `.war`.
    - **`<modules>`** ‚Üí Lista los subm√≥dulos del proyecto. Cada entrada corresponde a un directorio relativo dentro del proyecto ra√≠z.
    - **Herencia de configuraci√≥n** ‚Üí Los subm√≥dulos heredan configuraciones comunes del POM principal, lo que simplifica la gesti√≥n y evita repeticiones.
    - **Compilaci√≥n en cascada** ‚Üí Al ejecutar `mvn install` desde el directorio ra√≠z, Maven compila los m√≥dulos en el orden indicado, respetando sus dependencias internas.
</Explanation>

## üìÇ Proyectos Multi-M√≥dulo en Maven

En proyectos de gran tama√±o, concentrar todo el c√≥digo en un √∫nico m√≥dulo puede volverse poco escalable, dif√≠cil de mantener y propenso a errores. Dividir el c√≥digo en m√∫ltiples m√≥dulos permite una mejor organizaci√≥n, facilita la reutilizaci√≥n y mejora la mantenibilidad general del sistema.

A diferencia de otros sistemas de construcci√≥n, Maven adopta un enfoque jer√°rquico y declarativo para estructurar proyectos:

- **Cada m√≥dulo tiene su propio `pom.xml`**, donde define sus dependencias, configuraciones y artefactos de forma independiente.
- **Los m√≥dulos heredan configuraci√≥n del POM padre**, lo que fomenta la consistencia entre m√≥dulos y evita la repetici√≥n. Sin embargo, pueden sobrescribir o extender esa configuraci√≥n si lo necesitan.

### üîç Visi√≥n general de un proyecto multi-m√≥dulo

```mermaid
graph TD
    %% Nodo ra√≠z del proyecto
    subgraph root["üìÇ echo-app (ra√≠z)"]
        rootPom["üß© pom.xml"]
        
        %% Subm√≥dulo app
        subgraph appModule["üìÅ app"]
            appPom["üß© pom.xml"]
            subgraph appSrc["üìÅ src"]
                appMain["üìÅ main"]
                appTest["üìÅ test"]
            end
        end

        %% Subm√≥dulo lib
        subgraph libModule["üìÅ lib"]
            libPom["üß© pom.xml"]
            subgraph libSrc["üìÅ src"]
                libMain["üìÅ main"]
                libTest["üìÅ test"]
            end
        end
    end

    %% Relaciones entre m√≥dulos
    root --> rootPom
    root --> appModule
    root --> libModule
    appPom -- hereda de --> rootPom
    libPom -- hereda de --> rootPom
    appPom -- depende de --> libPom
```

:::info Estructura del Proyecto

- **üìÇ `echo-app (root)`**: Contiene el POM padre (`pom.xml`), que define la estructura general del proyecto y centraliza configuraciones comunes.
- **üìÇ `app` (m√≥dulo de aplicaci√≥n)**: Implementa la l√≥gica principal de la aplicaci√≥n y depende del m√≥dulo `lib`.
- **üìÇ `lib` (m√≥dulo de biblioteca)**: Incluye componentes reutilizables que pueden ser consumidos por `app` y otros m√≥dulos o proyectos.

:::

Cada subm√≥dulo tiene su propio archivo `pom.xml`. Por ejemplo, el m√≥dulo `app` podr√≠a definirse as√≠:

```xml showLineNumbers title="app/pom.xml"
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0
         http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <parent>
        <groupId>com.github.username</groupId>
        <artifactId>echo-app-maven</artifactId>
        <version>1.0.0</version>
    </parent>

    <artifactId>app</artifactId>

    <dependencies>
        <dependency>
            <groupId>com.github.username</groupId>
            <artifactId>lib</artifactId>
            <version>1.0.0</version>
        </dependency>
    </dependencies>
</project>
```

<Explanation>
    - **`<parent>`** ‚Üí Indica que este m√≥dulo hereda configuraciones del `pom.xml` ra√≠z. Esto evita duplicar informaci√≥n como versiones de plugins, propiedades comunes o configuraci√≥n de repositorios.
    - **`<artifactId>app</artifactId>`** ‚Üí Define el identificador del m√≥dulo, que se utiliza en el build y para la publicaci√≥n de artefactos.
    - **`<dependencies>`** ‚Üí Declara las dependencias requeridas por el m√≥dulo:
        - En este caso, `app` depende del m√≥dulo `lib`, por lo que se agrega como una dependencia expl√≠cita.
        - Ambos m√≥dulos comparten el mismo `groupId` y versi√≥n porque forman parte del mismo proyecto multi-m√≥dulo.
    - **Gesti√≥n de versiones** ‚Üí Gracias a la herencia, este m√≥dulo puede omitir configuraciones redundantes, como la versi√≥n de dependencias internas o plugins.
    - **Compilaci√≥n jer√°rquica** ‚Üí Al ejecutar `mvn install` desde el proyecto ra√≠z, Maven compilar√° primero `lib` (ya que `app` lo necesita) y luego `app`, respetando el orden de declaraci√≥n en `<modules>`.
</Explanation>

## üèóÔ∏è Gesti√≥n de Dependencias en Maven

### üì¶ Herencia vs. Dependencias en Proyectos Multi-M√≥dulo

En Maven, un m√≥dulo puede **heredar configuraciones comunes** desde el POM ra√≠z (POM padre) usando la etiqueta `<parent>`. Esto permite compartir elementos como versiones de plugins, propiedades globales, perfiles de compilaci√≥n o configuraci√≥n de repositorios.

Sin embargo, **esta herencia no incluye las dependencias funcionales**. Cada m√≥dulo debe declarar de forma **expl√≠cita** sus propias dependencias en la secci√≥n `<dependencies>`. Esto garantiza que cada m√≥dulo:

- Exprese de forma precisa qu√© necesita para compilarse.
- Se mantenga **modular y reutilizable**, sin acoplamientos impl√≠citos.
- Pueda ser compilado o probado de forma aislada si es necesario.

Esta separaci√≥n clara entre lo que se **hereda** (configuraci√≥n com√∫n) y lo que se **declara** (dependencias funcionales) es esencial para mantener un dise√±o limpio, escalable y f√°cil de mantener en proyectos multi-m√≥dulo.

### üî• Bill of Materials (BOM)

En proyectos multi-m√≥dulo, mantener versiones consistentes entre dependencias puede ser un reto. Para resolverlo, Maven permite centralizar la gesti√≥n de versiones usando un **BOM (Bill of Materials)**, definido dentro del bloque `<dependencyManagement>` del `pom.xml` ra√≠z.

Este enfoque tiene m√∫ltiples beneficios:

- Asegura **coherencia de versiones** en todo el proyecto.
- Evita la repetici√≥n de versiones en cada subm√≥dulo.
- Reduce el riesgo de errores por versiones incompatibles.

#### üß© Ejemplo de BOM en el `pom.xml` ra√≠z:

<BoxedTabs>
    <TabItem label={"C√≥digo esencial"} value={"C√≥digo esencial"}>
        ```xml showLineNumbers title="pom.xml (ra√≠z)"
        <dependencyManagement>
            <dependencies>
                <dependency>
                    <groupId>org.junit.jupiter</groupId>
                    <artifactId>junit-jupiter-api</artifactId>
                    <version>5.13.0-M2</version>
                </dependency>
            </dependencies>
        </dependencyManagement>
        ```
    </TabItem>
    <TabItem label={"C√≥digo completo"} value={"C√≥digo completo"}>
        ```xml showLineNumbers title="pom.xml (ra√≠z)"
        <project xmlns="http://maven.apache.org/POM/4.0.0"
                xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                xsi:schemaLocation="http://maven.apache.org/POM/4.0.0
                https://maven.apache.org/maven-v4_0_0.xsd">
            <modelVersion>4.0.0</modelVersion>

            <groupId>com.github.username</groupId>
            <artifactId>echo-app-maven</artifactId>
            <packaging>pom</packaging>
            <version>1.0.0</version>
            <name>echo-app-maven</name>

            <modules>
                <module>lib</module>
                <module>app</module>
            </modules>
            <dependencyManagement>
                <dependencies>
                    <dependency>
                        <groupId>org.junit.jupiter</groupId>
                        <artifactId>junit-jupiter</artifactId>
                        <version>5.13.0-M2</version>
                    </dependency>
                </dependencies>
            </dependencyManagement>
        </project>
        ```
    </TabItem>
</BoxedTabs>

<Explanation>
    - **`<dependencyManagement>`** define un conjunto de dependencias que podr√°n ser utilizadas por los subm√≥dulos sin necesidad de repetir versiones.
        - Dentro de √©l, el bloque **`<dependencies>`** act√∫a como una lista contenedora.
            - Cada entrada **`<dependency>`** especifica un artefacto y su versi√≥n.
                - **Esto *no* agrega autom√°ticamente esas dependencias a ning√∫n m√≥dulo**, solo les ofrece una versi√≥n est√°ndar para cuando las necesiten.
</Explanation>

#### ‚úÖ C√≥mo se usa en un m√≥dulo:

<BoxedTabs>
    <TabItem label={"C√≥digo esencial"} value={"C√≥digo esencial"}>
        ```xml showLineNumbers title="lib/pom.xml"
        <parent>
            <groupId>com.github.username</groupId>
            <artifactId>echo-app-maven</artifactId>
            <version>1.0.0</version>
        </parent>
        <!-- ... -->
        <dependencies>
            <dependency>
                <groupId>org.junit.jupiter</groupId>
                <artifactId>junit-jupiter</artifactId>
            </dependency>
        </dependencies>
        ```
    </TabItem>
    <TabItem label={"C√≥digo completo"} value={"C√≥digo completo"}>
        ```xml showLineNumbers title="lib/pom.xml"
        <project xmlns="http://maven.apache.org/POM/4.0.0"
                xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
            <modelVersion>4.0.0</modelVersion>

            <parent>
                <groupId>com.github.username</groupId>
                <artifactId>echo-app-maven</artifactId>
                <version>1.0.0</version>
            </parent>

            <artifactId>lib</artifactId>

            <dependencies>
                <dependency>
                    <groupId>org.junit.jupiter</groupId>
                    <artifactId>junit-jupiter</artifactId>
                </dependency>
            </dependencies>
        </project>
        ```
    </TabItem>
</BoxedTabs>

<Explanation>
    - El bloque `<parent>` le dice a Maven que este m√≥dulo (`lib`) hereda la configuraci√≥n del proyecto ra√≠z (`echo-app-maven`). Gracias a esto, accede al bloque `<dependencyManagement>` definido all√≠.
    - En `<dependencies>`, el m√≥dulo declara qu√© bibliotecas necesita. En este caso, usamos `junit-jupiter`, pero **no indicamos su versi√≥n**.
    - Maven buscar√° la versi√≥n correspondiente en el BOM del proyecto ra√≠z. Esto garantiza consistencia entre m√≥dulos y evita repetir versiones.
    - Si olvidaras el bloque `<parent>`, Maven no tendr√≠a acceso al `dependencyManagement` del padre, y fallar√≠a al no encontrar la versi√≥n.
</Explanation>

:::warning Omitir el bloque `<parent>`

Si se omite el bloque `<parent>`, el m√≥dulo no podr√° acceder al BOM, y Maven requerir√° que la versi√≥n sea especificada manualmente.

:::

## üìä Comparaci√≥n entre Maven y Gradle en Proyectos Multi-M√≥dulo

| **Aspecto**                  | **Maven**                                                                 | **Gradle**                                                                  |
|-----------------------------|---------------------------------------------------------------------------|-----------------------------------------------------------------------------|
| **Definici√≥n de m√≥dulos**    | Se usa `<modules>` en el `pom.xml` del proyecto ra√≠z                      | Se usa `include(":modulo")` en `settings.gradle(.kts)`                     |
| **Herencia de configuraci√≥n**| Se logra con `<parent>` en cada `pom.xml`                                 | Se logra con bloques `subprojects` y `allprojects`, y con `plugins`        |
| **Manejo de versiones**      | Se centraliza con un **BOM** v√≠a `dependencyManagement`                   | Se centraliza con un **cat√°logo de versiones** (`libs.versions.toml`)      |
| **Compilaci√≥n incremental**  | No soporta compilaci√≥n incremental de forma nativa                        | Soporta compilaci√≥n incremental y paralela                                 |
| **Flexibilidad**             | Convenci√≥n sobre configuraci√≥n; basado en XML r√≠gido                     | M√°s flexible y expresivo; basado en un DSL declarativo                     |
| **Ecosistema**               | Amplio soporte en entornos empresariales tradicionales                    | Preferido en proyectos modernos, m√≥viles y de c√≥digo abierto               |

### ‚úÖ Beneficios / ‚ùå Limitaciones

<ProCons>
    <Pros>
        - **Estandarizaci√≥n**: Maven sigue convenciones estrictas, lo que hace que su estructura sea predecible y f√°cil de entender para otrxs integrantes del equipo.
        - **Compatibilidad con grandes proyectos**: Ampliamente adoptado en entornos empresariales con m√∫ltiples m√≥dulos y dependencias complejas.
        - **Amplio ecosistema de plugins**: Hay muchos plugins maduros disponibles para pruebas, empaquetado, an√°lisis est√°tico, cobertura, etc.
    </Pros>
    <Cons>
        - **Menos flexible**: Definir tareas personalizadas o flujos fuera de lo convencional puede ser complicado o requerir plugins adicionales.
        - **XML verboso**: Las configuraciones pueden ser largas, repetitivas y menos expresivas que las de Gradle u otras herramientas basadas en c√≥digo.
        - **Menor soporte para builds incrementales**: Cada cambio tiende a recompilar m√°s de lo necesario, lo cual impacta proyectos grandes.
    </Cons>
</ProCons>

## üéØ Conclusiones

En esta lecci√≥n aprendimos a estructurar un proyecto multi-m√≥dulo en Maven, comprendiendo c√≥mo organizar los m√≥dulos, c√≥mo establecer relaciones entre ellos y c√≥mo centralizar configuraciones y versiones para mantener el proyecto limpio, escalable y coherente.

El enfoque modular no solo mejora la reutilizaci√≥n del c√≥digo, sino que tambi√©n promueve una separaci√≥n clara de responsabilidades, lo cual es esencial en bibliotecas de software bien dise√±adas.

Tambi√©n exploramos la comparaci√≥n entre Maven y Gradle, entendiendo que, aunque Maven puede ser m√°s r√≠gido, su estructura convencional lo convierte en una herramienta robusta y ampliamente adoptada, especialmente en contextos empresariales.

### üîë Puntos clave

- **Proyectos multi-m√≥dulo**: Maven permite organizar aplicaciones complejas dividi√©ndolas en m√≥dulos con responsabilidades bien definidas.
- **POM ra√≠z como punto central**: El `pom.xml` del proyecto ra√≠z define la estructura y centraliza configuraciones comunes mediante herencia (`<parent>`).
- **Gesti√≥n de dependencias**: Cada m√≥dulo declara sus propias dependencias expl√≠citamente, lo que asegura independencia y claridad en los l√≠mites del m√≥dulo.
- **Uso de BOM (`Bill of Materials`)**: Permite definir versiones de dependencias en un √∫nico lugar, evitando redundancias y facilitando la consistencia.
- **Compilaci√≥n jer√°rquica**: Maven respeta las dependencias entre m√≥dulos al compilar, asegurando que todo est√© en orden antes de empaquetar artefactos.
- **Comparaci√≥n con Gradle**: Maven destaca por su estandarizaci√≥n y predictibilidad, mientras que Gradle se impone cuando se busca flexibilidad y eficiencia en builds incrementales.

### üß∞ ¬øQu√© nos llevamos?

Trabajar con proyectos multi-m√≥dulo en Maven no solo es una cuesti√≥n t√©cnica, sino una decisi√≥n de dise√±o que refleja c√≥mo entendemos, organizamos y escalamos nuestras aplicaciones o bibliotecas. Al adoptar esta estructura, ganamos claridad en la divisi√≥n de responsabilidades, facilitamos la reutilizaci√≥n del c√≥digo y mejoramos la mantenibilidad a largo plazo.

Maven, con su enfoque basado en convenciones y su sistema de herencia estructurada, nos obliga a ser expl√≠citxs en c√≥mo relacionamos nuestros m√≥dulos, lo cual puede parecer r√≠gido al principio, pero termina dando frutos en t√©rminos de consistencia y previsibilidad. El uso de herramientas como `dependencyManagement` o el patr√≥n de BOM refuerza ese compromiso con la claridad, permiti√©ndonos mantener control total sobre las versiones sin caer en la repetici√≥n.

As√≠, lo que nos llevamos no es solo un conocimiento t√©cnico sobre c√≥mo configurar `pom.xml`, sino una perspectiva m√°s madura sobre c√≥mo construir software modular, limpio y preparado para crecer. Porque a medida que nuestros proyectos se expanden, tambi√©n lo debe hacer nuestra capacidad de organizarlos con criterio.

## üìñ Referencias

### üî• Recomendadas

- üìö Multi-module Projects. (2015). En R. Bharathan, Apache Maven cookbook: Over 90 hands-on recipes to successfully build and automate development life cycle tasks following Maven conventions and best practices (1st ed, pp. 177‚Äì195). Packt Publishing.

### üîπ Adicionales

- üåê Chapter 6. A Multi-Module Project. (s.¬†f.). TheNEXUS. Recuperado 25 de marzo de 2025, de http://www.sonatype.org/nexus/
- üåê Guide to Working with Multiple Subprojects in Maven 4 ‚Äì Maven. (s.¬†f.). Recuperado 19 de marzo de 2025, de https://maven.apache.org/guides/mini/guide-multiple-subprojects-4.html
